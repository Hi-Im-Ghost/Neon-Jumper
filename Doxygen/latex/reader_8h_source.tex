\hypertarget{reader_8h_source}{}\doxysection{reader.\+h}
\label{reader_8h_source}\index{src/rapidjson/include/rapidjson/reader.h@{src/rapidjson/include/rapidjson/reader.h}}
\mbox{\hyperlink{reader_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Tencent is pleased to support the open source community by making RapidJSON available.}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{// Copyright (C) 2015 THL A29 Limited, a Tencent company, and Milo Yip.}}
\DoxyCodeLine{4 \textcolor{comment}{//}}
\DoxyCodeLine{5 \textcolor{comment}{// Licensed under the MIT License (the "{}License"{}); you may not use this file except}}
\DoxyCodeLine{6 \textcolor{comment}{// in compliance with the License. You may obtain a copy of the License at}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{// http://opensource.org/licenses/MIT}}
\DoxyCodeLine{9 \textcolor{comment}{//}}
\DoxyCodeLine{10 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software distributed}}
\DoxyCodeLine{11 \textcolor{comment}{// under the License is distributed on an "{}AS IS"{} BASIS, WITHOUT WARRANTIES OR}}
\DoxyCodeLine{12 \textcolor{comment}{// CONDITIONS OF ANY KIND, either express or implied. See the License for the}}
\DoxyCodeLine{13 \textcolor{comment}{// specific language governing permissions and limitations under the License.}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#ifndef RAPIDJSON\_READER\_H\_}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define RAPIDJSON\_READER\_H\_}}
\DoxyCodeLine{17 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{allocators_8h}{allocators.h}}"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{stream_8h}{stream.h}}"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{encodedstream_8h}{encodedstream.h}}"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{clzll_8h}{internal/clzll.h}}"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{meta_8h}{internal/meta.h}}"{}}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{stack_8h}{internal/stack.h}}"{}}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{strtod_8h}{internal/strtod.h}}"{}}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include <limits>}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#if defined(RAPIDJSON\_SIMD) \&\& defined(\_MSC\_VER)}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include <intrin.h>}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#pragma intrinsic(\_BitScanForward)}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#ifdef RAPIDJSON\_SSE42}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#include <nmmintrin.h>}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#elif defined(RAPIDJSON\_SSE2)}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#include <emmintrin.h>}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#elif defined(RAPIDJSON\_NEON)}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#include <arm\_neon.h>}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{preprocessor}{\#ifdef \_\_clang\_\_}}
\DoxyCodeLine{42 RAPIDJSON\_DIAG\_PUSH}
\DoxyCodeLine{43 RAPIDJSON\_DIAG\_OFF(old-\/style-\/cast)}
\DoxyCodeLine{44 RAPIDJSON\_DIAG\_OFF(padded)}
\DoxyCodeLine{45 RAPIDJSON\_DIAG\_OFF(\textcolor{keywordflow}{switch}-\/\textcolor{keyword}{enum})}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER)}}
\DoxyCodeLine{47 RAPIDJSON\_DIAG\_PUSH}
\DoxyCodeLine{48 RAPIDJSON\_DIAG\_OFF(4127)  \textcolor{comment}{// conditional expression is constant}}
\DoxyCodeLine{49 RAPIDJSON\_DIAG\_OFF(4702)  \textcolor{comment}{// unreachable code}}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_}}
\DoxyCodeLine{53 RAPIDJSON\_DIAG\_PUSH}
\DoxyCodeLine{54 RAPIDJSON\_DIAG\_OFF(effc++)}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{56 }
\DoxyCodeLine{58 \textcolor{preprocessor}{\#define RAPIDJSON\_NOTHING }\textcolor{comment}{/* deliberately empty */}\textcolor{preprocessor}{}}
\DoxyCodeLine{59 \textcolor{preprocessor}{\#ifndef RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN}}
\DoxyCodeLine{60 \textcolor{preprocessor}{\#define RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(value) \(\backslash\)}}
\DoxyCodeLine{61 \textcolor{preprocessor}{    RAPIDJSON\_MULTILINEMACRO\_BEGIN \(\backslash\)}}
\DoxyCodeLine{62 \textcolor{preprocessor}{    if (RAPIDJSON\_UNLIKELY(HasParseError())) \{ return value; \} \(\backslash\)}}
\DoxyCodeLine{63 \textcolor{preprocessor}{    RAPIDJSON\_MULTILINEMACRO\_END}}
\DoxyCodeLine{64 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#define RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID \(\backslash\)}}
\DoxyCodeLine{66 \textcolor{preprocessor}{    RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(RAPIDJSON\_NOTHING)}}
\DoxyCodeLine{68 }
\DoxyCodeLine{99 \textcolor{preprocessor}{\#ifndef RAPIDJSON\_PARSE\_ERROR\_NORETURN}}
\DoxyCodeLine{100 \textcolor{preprocessor}{\#define RAPIDJSON\_PARSE\_ERROR\_NORETURN(parseErrorCode, offset) \(\backslash\)}}
\DoxyCodeLine{101 \textcolor{preprocessor}{    RAPIDJSON\_MULTILINEMACRO\_BEGIN \(\backslash\)}}
\DoxyCodeLine{102 \textcolor{preprocessor}{    RAPIDJSON\_ASSERT(!HasParseError()); }\textcolor{comment}{/* Error can only be assigned once */}\textcolor{preprocessor}{ \(\backslash\)}}
\DoxyCodeLine{103 \textcolor{preprocessor}{    SetParseError(parseErrorCode, offset); \(\backslash\)}}
\DoxyCodeLine{104 \textcolor{preprocessor}{    RAPIDJSON\_MULTILINEMACRO\_END}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{106 }
\DoxyCodeLine{118 \textcolor{preprocessor}{\#ifndef RAPIDJSON\_PARSE\_ERROR}}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#define RAPIDJSON\_PARSE\_ERROR(parseErrorCode, offset) \(\backslash\)}}
\DoxyCodeLine{120 \textcolor{preprocessor}{    RAPIDJSON\_MULTILINEMACRO\_BEGIN \(\backslash\)}}
\DoxyCodeLine{121 \textcolor{preprocessor}{    RAPIDJSON\_PARSE\_ERROR\_NORETURN(parseErrorCode, offset); \(\backslash\)}}
\DoxyCodeLine{122 \textcolor{preprocessor}{    RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID; \(\backslash\)}}
\DoxyCodeLine{123 \textcolor{preprocessor}{    RAPIDJSON\_MULTILINEMACRO\_END}}
\DoxyCodeLine{124 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{125 }
\DoxyCodeLine{126 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{error_8h}{error/error.h}}"{}} \textcolor{comment}{// ParseErrorCode, ParseResult}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gad3806c8251fdc7da9618b7e922674ffc}{RAPIDJSON\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{129 }
\DoxyCodeLine{131 \textcolor{comment}{// ParseFlag}}
\DoxyCodeLine{132 }
\DoxyCodeLine{139 \textcolor{preprocessor}{\#ifndef RAPIDJSON\_PARSE\_DEFAULT\_FLAGS}}
\DoxyCodeLine{140 \textcolor{preprocessor}{\#define RAPIDJSON\_PARSE\_DEFAULT\_FLAGS kParseNoFlags}}
\DoxyCodeLine{141 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{142 }
\DoxyCodeLine{144 }
\DoxyCodeLine{146 \textcolor{keyword}{enum} \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450}{ParseFlag}} \{}
\DoxyCodeLine{147     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a1af603dc5f65bb815316589e782bc71a}{kParseNoFlags}} = 0,              }
\DoxyCodeLine{148     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a13188bd483b4df0b6582bebe2aeb5b01}{kParseInsituFlag}} = 1,           }
\DoxyCodeLine{149     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a9b3baa16346575d2dc072b23a88e1928}{kParseValidateEncodingFlag}} = 2, }
\DoxyCodeLine{150     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aadb14f5a3b6b33e28055e913a2eae5e9}{kParseIterativeFlag}} = 4,        }
\DoxyCodeLine{151     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450af77d115d3bbed0a448b6b335f3b93b36}{kParseStopWhenDoneFlag}} = 8,     }
\DoxyCodeLine{152     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a057fbeacafb16bb7d24c9998262cae46}{kParseFullPrecisionFlag}} = 16,   }
\DoxyCodeLine{153     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a245d1b6af730f47f0e7bd27078f5e8c1}{kParseCommentsFlag}} = 32,        }
\DoxyCodeLine{154     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aa951ab03a51b32b60164436bc280cf01}{kParseNumbersAsStringsFlag}} = 64,    }
\DoxyCodeLine{155     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a953d6381de950e25c8c97ad54f52370a}{kParseTrailingCommasFlag}} = 128, }
\DoxyCodeLine{156     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a9849d65c1d3edd796bd75897c6a37eb6}{kParseNanAndInfFlag}} = 256,      }
\DoxyCodeLine{157     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a7593d429928f1a8224c5793928d4db3e}{kParseEscapedApostropheFlag}} = 512,  }
\DoxyCodeLine{158     \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a9104b0946d648e9467cb7a967401ec80}{kParseDefaultFlags}} = \mbox{\hyperlink{reader_8h_a77005e892e6601599beaf421b0395c31}{RAPIDJSON\_PARSE\_DEFAULT\_FLAGS}}  }
\DoxyCodeLine{159 \};}
\DoxyCodeLine{160 }
\DoxyCodeLine{162 \textcolor{comment}{// Handler}}
\DoxyCodeLine{163 }
\DoxyCodeLine{180 }
\DoxyCodeLine{191 \textcolor{comment}{// BaseReaderHandler}}
\DoxyCodeLine{192 }
\DoxyCodeLine{194 }
\DoxyCodeLine{197 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Encoding = UTF8<>, \textcolor{keyword}{typename} Derived = \textcolor{keywordtype}{void}>}
\DoxyCodeLine{198 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_base_reader_handler}{BaseReaderHandler}} \{}
\DoxyCodeLine{199     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Encoding::Ch \mbox{\hyperlink{struct_base_reader_handler_a8302c755dd3560c8c5bac99162c28214}{Ch}};}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::SelectIf<internal::IsSame<Derived, void>, \mbox{\hyperlink{struct_base_reader_handler}{BaseReaderHandler}}, Derived>\mbox{\hyperlink{rapidjson_8h_a1d1cfd8ffb84e947f82999c682b666a7}{::Type}} \mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}};}
\DoxyCodeLine{202 }
\DoxyCodeLine{203     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a836437f6ccc37f08ff933f009b18a78c}{Default}}() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{204     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_ae2ebbde4628bf3659ddc5d18520935f5}{Null}}() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{205     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_aa1c3ce42dbb856b3349792dc9d963587}{Bool}}(\textcolor{keywordtype}{bool}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{206     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a85e813aaf7189a2f87bd53953324fafc}{Int}}(\textcolor{keywordtype}{int}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{207     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a0e683306cbb7b4e350a35c18c5246f2a}{Uint}}(\textcolor{keywordtype}{unsigned}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{208     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a04011733ea584739c97ad5c6afa15a35}{Int64}}(\mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{209     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a351aa3cd81856a487c21022e9cc64d2b}{Uint64}}(\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{210     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a8156ea6ae5b8cd23a8b700e92a8af1eb}{Double}}(\textcolor{keywordtype}{double}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{212     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a9ed0d83d5e6c8f5e4b32ca3735ff0bb7}{RawNumber}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_base_reader_handler_a8302c755dd3560c8c5bac99162c28214}{Ch}}* str, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} len, \textcolor{keywordtype}{bool} copy) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).String(str, len, copy); \}}
\DoxyCodeLine{213     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a3ac69e6326d0aeef7b1f2619742bbe00}{String}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_base_reader_handler_a8302c755dd3560c8c5bac99162c28214}{Ch}}*, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}, \textcolor{keywordtype}{bool}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{214     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_ab0a7d9bcececb8d6ed748656f67f4917}{StartObject}}() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{215     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_abc50b2e7e411b7b731715e05cd01e2eb}{Key}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_base_reader_handler_a8302c755dd3560c8c5bac99162c28214}{Ch}}* str, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} len, \textcolor{keywordtype}{bool} copy) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).String(str, len, copy); \}}
\DoxyCodeLine{216     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a0406cee0af26bc3a0b7fb2414537b0ab}{EndObject}}(\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{217     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_a9dbb1143a250a904bb18a174553a3a00}{StartArray}}() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{218     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_base_reader_handler_ae9d60a8779b6a77a7f283d64961879fb}{EndArray}}(\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_base_reader_handler_a973e47218d5a6cf51576b32c35fa50ac}{Override}}\&\textcolor{keyword}{>}(*this).Default(); \}}
\DoxyCodeLine{219 \};}
\DoxyCodeLine{220 }
\DoxyCodeLine{222 \textcolor{comment}{// StreamLocalCopy}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceinternal}{internal}} \{}
\DoxyCodeLine{225 }
\DoxyCodeLine{226 template<typename Stream, int = StreamTraits<Stream>::copyOptimization>}
\DoxyCodeLine{227 \textcolor{keyword}{class }\mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}};}
\DoxyCodeLine{228 }
\DoxyCodeLine{230 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Stream>}
\DoxyCodeLine{231 \textcolor{keyword}{class }\mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}}<\mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}}, 1> \{}
\DoxyCodeLine{232 \textcolor{keyword}{public}:}
\DoxyCodeLine{233     \mbox{\hyperlink{classinternal_1_1_stream_local_copy_3_01_stream_00_011_01_4_aba475fed3eecc9f77ff059fdb7fe2a32}{StreamLocalCopy}}(\mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}}\& original) : s(original), original\_(original) \{\}}
\DoxyCodeLine{234     \mbox{\hyperlink{classinternal_1_1_stream_local_copy_3_01_stream_00_011_01_4_ac13d9994e6c828536fedf698f5824687}{\string~StreamLocalCopy}}() \{ original\_ = s; \}}
\DoxyCodeLine{235 }
\DoxyCodeLine{236     \mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}} \mbox{\hyperlink{classinternal_1_1_stream_local_copy_3_01_stream_00_011_01_4_a1d3e8ae8756325df25715d4ffb9c1b44}{s}};}
\DoxyCodeLine{237 }
\DoxyCodeLine{238 \textcolor{keyword}{private}:}
\DoxyCodeLine{239     \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}}\&) \textcolor{comment}{/* = delete */};}
\DoxyCodeLine{240 }
\DoxyCodeLine{241     \mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}}\& original\_;}
\DoxyCodeLine{242 \};}
\DoxyCodeLine{243 }
\DoxyCodeLine{245 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Stream>}
\DoxyCodeLine{246 \textcolor{keyword}{class }\mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}}<\mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}}, 0> \{}
\DoxyCodeLine{247 \textcolor{keyword}{public}:}
\DoxyCodeLine{248     \mbox{\hyperlink{classinternal_1_1_stream_local_copy_3_01_stream_00_010_01_4_ac684a7be07d79d6ddd274dc1150f4b79}{StreamLocalCopy}}(\mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}}\& original) : s(original) \{\}}
\DoxyCodeLine{249 }
\DoxyCodeLine{250     \mbox{\hyperlink{classrapidjson_1_1_stream}{Stream}}\& \mbox{\hyperlink{classinternal_1_1_stream_local_copy_3_01_stream_00_010_01_4_ad31147888384f4bd51eabc2d7acdc4b6}{s}};}
\DoxyCodeLine{251 }
\DoxyCodeLine{252 \textcolor{keyword}{private}:}
\DoxyCodeLine{253     \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{StreamLocalCopy}}\&) \textcolor{comment}{/* = delete */};}
\DoxyCodeLine{254 \};}
\DoxyCodeLine{255 }
\DoxyCodeLine{256 \} \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{257 }
\DoxyCodeLine{259 \textcolor{comment}{// SkipWhitespace}}
\DoxyCodeLine{260 }
\DoxyCodeLine{262 }
\DoxyCodeLine{265 \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream>}
\DoxyCodeLine{266 \textcolor{keywordtype}{void} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(InputStream\& is) \{}
\DoxyCodeLine{267     \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{internal::StreamLocalCopy<InputStream>}} copy(is);}
\DoxyCodeLine{268     InputStream\& s(copy.s);}
\DoxyCodeLine{269 }
\DoxyCodeLine{270     \textcolor{keyword}{typename} InputStream::Ch c;}
\DoxyCodeLine{271     \textcolor{keywordflow}{while} ((c = s.Peek()) == \textcolor{charliteral}{' '} || c == \textcolor{charliteral}{'\(\backslash\)n'} || c == \textcolor{charliteral}{'\(\backslash\)r'} || c == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{272         s.Take();}
\DoxyCodeLine{273 \}}
\DoxyCodeLine{274 }
\DoxyCodeLine{275 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* end) \{}
\DoxyCodeLine{276     \textcolor{keywordflow}{while} (p != end \&\& (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{277         ++p;}
\DoxyCodeLine{278     \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{279 \}}
\DoxyCodeLine{280 }
\DoxyCodeLine{281 \textcolor{preprocessor}{\#ifdef RAPIDJSON\_SSE42}}
\DoxyCodeLine{283 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *SkipWhitespace\_SIMD(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p) \{}
\DoxyCodeLine{284     \textcolor{comment}{// Fast return for single non-\/whitespace}}
\DoxyCodeLine{285     \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{286         ++p;}
\DoxyCodeLine{287     \textcolor{keywordflow}{else}}
\DoxyCodeLine{288         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{289 }
\DoxyCodeLine{290     \textcolor{comment}{// 16-\/byte align to the next boundary}}
\DoxyCodeLine{291     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{292     \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{293         \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{294             ++p;}
\DoxyCodeLine{295         \textcolor{keywordflow}{else}}
\DoxyCodeLine{296             \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{297 }
\DoxyCodeLine{298     \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{299     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} whitespace[16] = \textcolor{stringliteral}{"{} \(\backslash\)n\(\backslash\)r\(\backslash\)t"{}};}
\DoxyCodeLine{300     \textcolor{keyword}{const} \_\_m128i w = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespace[0]));}
\DoxyCodeLine{301 }
\DoxyCodeLine{302     \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{303         \textcolor{keyword}{const} \_\_m128i s = \_mm\_load\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{304         \textcolor{keyword}{const} \textcolor{keywordtype}{int} r = \_mm\_cmpistri(w, s, \_SIDD\_UBYTE\_OPS | \_SIDD\_CMP\_EQUAL\_ANY | \_SIDD\_LEAST\_SIGNIFICANT | \_SIDD\_NEGATIVE\_POLARITY);}
\DoxyCodeLine{305         \textcolor{keywordflow}{if} (r != 16)    \textcolor{comment}{// some of characters is non-\/whitespace}}
\DoxyCodeLine{306             \textcolor{keywordflow}{return} p + r;}
\DoxyCodeLine{307     \}}
\DoxyCodeLine{308 \}}
\DoxyCodeLine{309 }
\DoxyCodeLine{310 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *SkipWhitespace\_SIMD(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* end) \{}
\DoxyCodeLine{311     \textcolor{comment}{// Fast return for single non-\/whitespace}}
\DoxyCodeLine{312     \textcolor{keywordflow}{if} (p != end \&\& (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{313         ++p;}
\DoxyCodeLine{314     \textcolor{keywordflow}{else}}
\DoxyCodeLine{315         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{316 }
\DoxyCodeLine{317     \textcolor{comment}{// The middle of string using SIMD}}
\DoxyCodeLine{318     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} whitespace[16] = \textcolor{stringliteral}{"{} \(\backslash\)n\(\backslash\)r\(\backslash\)t"{}};}
\DoxyCodeLine{319     \textcolor{keyword}{const} \_\_m128i w = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespace[0]));}
\DoxyCodeLine{320 }
\DoxyCodeLine{321     \textcolor{keywordflow}{for} (; p <= end -\/ 16; p += 16) \{}
\DoxyCodeLine{322         \textcolor{keyword}{const} \_\_m128i s = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{323         \textcolor{keyword}{const} \textcolor{keywordtype}{int} r = \_mm\_cmpistri(w, s, \_SIDD\_UBYTE\_OPS | \_SIDD\_CMP\_EQUAL\_ANY | \_SIDD\_LEAST\_SIGNIFICANT | \_SIDD\_NEGATIVE\_POLARITY);}
\DoxyCodeLine{324         \textcolor{keywordflow}{if} (r != 16)    \textcolor{comment}{// some of characters is non-\/whitespace}}
\DoxyCodeLine{325             \textcolor{keywordflow}{return} p + r;}
\DoxyCodeLine{326     \}}
\DoxyCodeLine{327 }
\DoxyCodeLine{328     \textcolor{keywordflow}{return} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(p, end);}
\DoxyCodeLine{329 \}}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{preprocessor}{\#elif defined(RAPIDJSON\_SSE2)}}
\DoxyCodeLine{332 }
\DoxyCodeLine{334 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *SkipWhitespace\_SIMD(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p) \{}
\DoxyCodeLine{335     \textcolor{comment}{// Fast return for single non-\/whitespace}}
\DoxyCodeLine{336     \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{337         ++p;}
\DoxyCodeLine{338     \textcolor{keywordflow}{else}}
\DoxyCodeLine{339         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{340 }
\DoxyCodeLine{341     \textcolor{comment}{// 16-\/byte align to the next boundary}}
\DoxyCodeLine{342     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{343     \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{344         \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{345             ++p;}
\DoxyCodeLine{346         \textcolor{keywordflow}{else}}
\DoxyCodeLine{347             \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{348 }
\DoxyCodeLine{349     \textcolor{comment}{// The rest of string}}
\DoxyCodeLine{350 \textcolor{preprocessor}{    \#define C16(c) \{ c, c, c, c, c, c, c, c, c, c, c, c, c, c, c, c \}}}
\DoxyCodeLine{351     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} whitespaces[4][16] = \{ C16(\textcolor{charliteral}{' '}), C16(\textcolor{charliteral}{'\(\backslash\)n'}), C16(\textcolor{charliteral}{'\(\backslash\)r'}), C16(\textcolor{charliteral}{'\(\backslash\)t'}) \};}
\DoxyCodeLine{352 \textcolor{preprocessor}{    \#undef C16}}
\DoxyCodeLine{353 }
\DoxyCodeLine{354     \textcolor{keyword}{const} \_\_m128i w0 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[0][0]));}
\DoxyCodeLine{355     \textcolor{keyword}{const} \_\_m128i w1 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[1][0]));}
\DoxyCodeLine{356     \textcolor{keyword}{const} \_\_m128i w2 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[2][0]));}
\DoxyCodeLine{357     \textcolor{keyword}{const} \_\_m128i w3 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[3][0]));}
\DoxyCodeLine{358 }
\DoxyCodeLine{359     \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{360         \textcolor{keyword}{const} \_\_m128i s = \_mm\_load\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{361         \_\_m128i x = \_mm\_cmpeq\_epi8(s, w0);}
\DoxyCodeLine{362         x = \_mm\_or\_si128(x, \_mm\_cmpeq\_epi8(s, w1));}
\DoxyCodeLine{363         x = \_mm\_or\_si128(x, \_mm\_cmpeq\_epi8(s, w2));}
\DoxyCodeLine{364         x = \_mm\_or\_si128(x, \_mm\_cmpeq\_epi8(s, w3));}
\DoxyCodeLine{365         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} r = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}\textcolor{keyword}{>}(\string~\_mm\_movemask\_epi8(x));}
\DoxyCodeLine{366         \textcolor{keywordflow}{if} (r != 0) \{   \textcolor{comment}{// some of characters may be non-\/whitespace}}
\DoxyCodeLine{367 \textcolor{preprocessor}{\#ifdef \_MSC\_VER         }\textcolor{comment}{// Find the index of first non-\/whitespace}}
\DoxyCodeLine{368             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} offset;}
\DoxyCodeLine{369             \_BitScanForward(\&offset, r);}
\DoxyCodeLine{370             \textcolor{keywordflow}{return} p + offset;}
\DoxyCodeLine{371 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{372             \textcolor{keywordflow}{return} p + \_\_builtin\_ffs(r) -\/ 1;}
\DoxyCodeLine{373 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{374         \}}
\DoxyCodeLine{375     \}}
\DoxyCodeLine{376 \}}
\DoxyCodeLine{377 }
\DoxyCodeLine{378 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *SkipWhitespace\_SIMD(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* end) \{}
\DoxyCodeLine{379     \textcolor{comment}{// Fast return for single non-\/whitespace}}
\DoxyCodeLine{380     \textcolor{keywordflow}{if} (p != end \&\& (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{381         ++p;}
\DoxyCodeLine{382     \textcolor{keywordflow}{else}}
\DoxyCodeLine{383         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{384 }
\DoxyCodeLine{385     \textcolor{comment}{// The rest of string}}
\DoxyCodeLine{386 \textcolor{preprocessor}{    \#define C16(c) \{ c, c, c, c, c, c, c, c, c, c, c, c, c, c, c, c \}}}
\DoxyCodeLine{387     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} whitespaces[4][16] = \{ C16(\textcolor{charliteral}{' '}), C16(\textcolor{charliteral}{'\(\backslash\)n'}), C16(\textcolor{charliteral}{'\(\backslash\)r'}), C16(\textcolor{charliteral}{'\(\backslash\)t'}) \};}
\DoxyCodeLine{388 \textcolor{preprocessor}{    \#undef C16}}
\DoxyCodeLine{389 }
\DoxyCodeLine{390     \textcolor{keyword}{const} \_\_m128i w0 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[0][0]));}
\DoxyCodeLine{391     \textcolor{keyword}{const} \_\_m128i w1 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[1][0]));}
\DoxyCodeLine{392     \textcolor{keyword}{const} \_\_m128i w2 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[2][0]));}
\DoxyCodeLine{393     \textcolor{keyword}{const} \_\_m128i w3 = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&whitespaces[3][0]));}
\DoxyCodeLine{394 }
\DoxyCodeLine{395     \textcolor{keywordflow}{for} (; p <= end -\/ 16; p += 16) \{}
\DoxyCodeLine{396         \textcolor{keyword}{const} \_\_m128i s = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{397         \_\_m128i x = \_mm\_cmpeq\_epi8(s, w0);}
\DoxyCodeLine{398         x = \_mm\_or\_si128(x, \_mm\_cmpeq\_epi8(s, w1));}
\DoxyCodeLine{399         x = \_mm\_or\_si128(x, \_mm\_cmpeq\_epi8(s, w2));}
\DoxyCodeLine{400         x = \_mm\_or\_si128(x, \_mm\_cmpeq\_epi8(s, w3));}
\DoxyCodeLine{401         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} r = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}\textcolor{keyword}{>}(\string~\_mm\_movemask\_epi8(x));}
\DoxyCodeLine{402         \textcolor{keywordflow}{if} (r != 0) \{   \textcolor{comment}{// some of characters may be non-\/whitespace}}
\DoxyCodeLine{403 \textcolor{preprocessor}{\#ifdef \_MSC\_VER         }\textcolor{comment}{// Find the index of first non-\/whitespace}}
\DoxyCodeLine{404             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} offset;}
\DoxyCodeLine{405             \_BitScanForward(\&offset, r);}
\DoxyCodeLine{406             \textcolor{keywordflow}{return} p + offset;}
\DoxyCodeLine{407 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{408             \textcolor{keywordflow}{return} p + \_\_builtin\_ffs(r) -\/ 1;}
\DoxyCodeLine{409 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{410         \}}
\DoxyCodeLine{411     \}}
\DoxyCodeLine{412 }
\DoxyCodeLine{413     \textcolor{keywordflow}{return} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(p, end);}
\DoxyCodeLine{414 \}}
\DoxyCodeLine{415 }
\DoxyCodeLine{416 \textcolor{preprocessor}{\#elif defined(RAPIDJSON\_NEON)}}
\DoxyCodeLine{417 }
\DoxyCodeLine{419 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *SkipWhitespace\_SIMD(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p) \{}
\DoxyCodeLine{420     \textcolor{comment}{// Fast return for single non-\/whitespace}}
\DoxyCodeLine{421     \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{422         ++p;}
\DoxyCodeLine{423     \textcolor{keywordflow}{else}}
\DoxyCodeLine{424         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{425 }
\DoxyCodeLine{426     \textcolor{comment}{// 16-\/byte align to the next boundary}}
\DoxyCodeLine{427     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{428     \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{429         \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{430             ++p;}
\DoxyCodeLine{431         \textcolor{keywordflow}{else}}
\DoxyCodeLine{432             \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{433 }
\DoxyCodeLine{434     \textcolor{keyword}{const} uint8x16\_t w0 = vmovq\_n\_u8(\textcolor{charliteral}{' '});}
\DoxyCodeLine{435     \textcolor{keyword}{const} uint8x16\_t w1 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{436     \textcolor{keyword}{const} uint8x16\_t w2 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)r'});}
\DoxyCodeLine{437     \textcolor{keyword}{const} uint8x16\_t w3 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)t'});}
\DoxyCodeLine{438 }
\DoxyCodeLine{439     \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{440         \textcolor{keyword}{const} uint8x16\_t s = vld1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{441         uint8x16\_t x = vceqq\_u8(s, w0);}
\DoxyCodeLine{442         x = vorrq\_u8(x, vceqq\_u8(s, w1));}
\DoxyCodeLine{443         x = vorrq\_u8(x, vceqq\_u8(s, w2));}
\DoxyCodeLine{444         x = vorrq\_u8(x, vceqq\_u8(s, w3));}
\DoxyCodeLine{445 }
\DoxyCodeLine{446         x = vmvnq\_u8(x);                       \textcolor{comment}{// Negate}}
\DoxyCodeLine{447         x = vrev64q\_u8(x);                     \textcolor{comment}{// Rev in 64}}
\DoxyCodeLine{448         \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} low = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 0);   \textcolor{comment}{// extract}}
\DoxyCodeLine{449         \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} high = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 1);  \textcolor{comment}{// extract}}
\DoxyCodeLine{450 }
\DoxyCodeLine{451         \textcolor{keywordflow}{if} (low == 0) \{}
\DoxyCodeLine{452             \textcolor{keywordflow}{if} (high != 0) \{}
\DoxyCodeLine{453                 \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(high);}
\DoxyCodeLine{454                 \textcolor{keywordflow}{return} p + 8 + (lz >> 3);}
\DoxyCodeLine{455             \}}
\DoxyCodeLine{456         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{457             \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(low);}
\DoxyCodeLine{458             \textcolor{keywordflow}{return} p + (lz >> 3);}
\DoxyCodeLine{459         \}}
\DoxyCodeLine{460     \}}
\DoxyCodeLine{461 \}}
\DoxyCodeLine{462 }
\DoxyCodeLine{463 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *SkipWhitespace\_SIMD(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* p, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* end) \{}
\DoxyCodeLine{464     \textcolor{comment}{// Fast return for single non-\/whitespace}}
\DoxyCodeLine{465     \textcolor{keywordflow}{if} (p != end \&\& (*p == \textcolor{charliteral}{' '} || *p == \textcolor{charliteral}{'\(\backslash\)n'} || *p == \textcolor{charliteral}{'\(\backslash\)r'} || *p == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{466         ++p;}
\DoxyCodeLine{467     \textcolor{keywordflow}{else}}
\DoxyCodeLine{468         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{469 }
\DoxyCodeLine{470     \textcolor{keyword}{const} uint8x16\_t w0 = vmovq\_n\_u8(\textcolor{charliteral}{' '});}
\DoxyCodeLine{471     \textcolor{keyword}{const} uint8x16\_t w1 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{472     \textcolor{keyword}{const} uint8x16\_t w2 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)r'});}
\DoxyCodeLine{473     \textcolor{keyword}{const} uint8x16\_t w3 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)t'});}
\DoxyCodeLine{474 }
\DoxyCodeLine{475     \textcolor{keywordflow}{for} (; p <= end -\/ 16; p += 16) \{}
\DoxyCodeLine{476         \textcolor{keyword}{const} uint8x16\_t s = vld1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{477         uint8x16\_t x = vceqq\_u8(s, w0);}
\DoxyCodeLine{478         x = vorrq\_u8(x, vceqq\_u8(s, w1));}
\DoxyCodeLine{479         x = vorrq\_u8(x, vceqq\_u8(s, w2));}
\DoxyCodeLine{480         x = vorrq\_u8(x, vceqq\_u8(s, w3));}
\DoxyCodeLine{481 }
\DoxyCodeLine{482         x = vmvnq\_u8(x);                       \textcolor{comment}{// Negate}}
\DoxyCodeLine{483         x = vrev64q\_u8(x);                     \textcolor{comment}{// Rev in 64}}
\DoxyCodeLine{484         \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} low = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 0);   \textcolor{comment}{// extract}}
\DoxyCodeLine{485         \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} high = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 1);  \textcolor{comment}{// extract}}
\DoxyCodeLine{486 }
\DoxyCodeLine{487         \textcolor{keywordflow}{if} (low == 0) \{}
\DoxyCodeLine{488             \textcolor{keywordflow}{if} (high != 0) \{}
\DoxyCodeLine{489                 \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(high);}
\DoxyCodeLine{490                 \textcolor{keywordflow}{return} p + 8 + (lz >> 3);}
\DoxyCodeLine{491             \}}
\DoxyCodeLine{492         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{493             \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(low);}
\DoxyCodeLine{494             \textcolor{keywordflow}{return} p + (lz >> 3);}
\DoxyCodeLine{495         \}}
\DoxyCodeLine{496     \}}
\DoxyCodeLine{497 }
\DoxyCodeLine{498     \textcolor{keywordflow}{return} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(p, end);}
\DoxyCodeLine{499 \}}
\DoxyCodeLine{500 }
\DoxyCodeLine{501 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// RAPIDJSON\_NEON}}
\DoxyCodeLine{502 }
\DoxyCodeLine{503 \textcolor{preprocessor}{\#ifdef RAPIDJSON\_SIMD}}
\DoxyCodeLine{505 \textcolor{keyword}{template}<> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(\mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& is) \{}
\DoxyCodeLine{506     is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(SkipWhitespace\_SIMD(is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}}));}
\DoxyCodeLine{507 \}}
\DoxyCodeLine{508 }
\DoxyCodeLine{510 \textcolor{keyword}{template}<> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(\mbox{\hyperlink{struct_generic_string_stream}{StringStream}}\& is) \{}
\DoxyCodeLine{511     is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}} = SkipWhitespace\_SIMD(is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}});}
\DoxyCodeLine{512 \}}
\DoxyCodeLine{513 }
\DoxyCodeLine{514 \textcolor{keyword}{template}<> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(\mbox{\hyperlink{class_encoded_input_stream}{EncodedInputStream}}<\mbox{\hyperlink{struct_u_t_f8}{UTF8<>}}, \mbox{\hyperlink{struct_memory_stream}{MemoryStream}}>\& is) \{}
\DoxyCodeLine{515     is.is\_.src\_ = SkipWhitespace\_SIMD(is.is\_.src\_, is.is\_.end\_);}
\DoxyCodeLine{516 \}}
\DoxyCodeLine{517 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// RAPIDJSON\_SIMD}}
\DoxyCodeLine{518 }
\DoxyCodeLine{520 \textcolor{comment}{// GenericReader}}
\DoxyCodeLine{521 }
\DoxyCodeLine{523 }
\DoxyCodeLine{538 \textcolor{keyword}{template} <\textcolor{keyword}{typename} SourceEncoding, \textcolor{keyword}{typename} TargetEncoding, \textcolor{keyword}{typename} StackAllocator = CrtAllocator>}
\DoxyCodeLine{539 \textcolor{keyword}{class }\mbox{\hyperlink{class_generic_reader}{GenericReader}} \{}
\DoxyCodeLine{540 \textcolor{keyword}{public}:}
\DoxyCodeLine{541     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} SourceEncoding::Ch \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}}; }
\DoxyCodeLine{542 }
\DoxyCodeLine{544 }
\DoxyCodeLine{547     \mbox{\hyperlink{class_generic_reader_aab875a34b3092df9fb4e2b8eac6dbb96}{GenericReader}}(StackAllocator* stackAllocator = 0, \textcolor{keywordtype}{size\_t} stackCapacity = kDefaultStackCapacity) :}
\DoxyCodeLine{548         stack\_(stackAllocator, stackCapacity), parseResult\_(), state\_(IterativeParsingStartState) \{\}}
\DoxyCodeLine{549 }
\DoxyCodeLine{551 }
\DoxyCodeLine{558     \textcolor{keyword}{template} <\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{559     \mbox{\hyperlink{struct_parse_result}{ParseResult}} \mbox{\hyperlink{class_generic_reader_a0c450620d14ff1824e58bb7bd9b42099}{Parse}}(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{560         \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aadb14f5a3b6b33e28055e913a2eae5e9}{kParseIterativeFlag}})}
\DoxyCodeLine{561             \textcolor{keywordflow}{return} IterativeParse<parseFlags>(is, handler);}
\DoxyCodeLine{562 }
\DoxyCodeLine{563         parseResult\_.\mbox{\hyperlink{struct_parse_result_a88b6d44f052a19e6436ae6aadc2c40b4}{Clear}}();}
\DoxyCodeLine{564 }
\DoxyCodeLine{565         ClearStackOnExit scope(*\textcolor{keyword}{this});}
\DoxyCodeLine{566 }
\DoxyCodeLine{567         SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{568         RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{569 }
\DoxyCodeLine{570         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(is.Peek() == \textcolor{charliteral}{'\(\backslash\)0'})) \{}
\DoxyCodeLine{571             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a04b368d184e84b50580be2faa55f738a}{kParseErrorDocumentEmpty}}, is.Tell());}
\DoxyCodeLine{572             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{573         \}}
\DoxyCodeLine{574         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{575             ParseValue<parseFlags>(is, handler);}
\DoxyCodeLine{576             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{577 }
\DoxyCodeLine{578             \textcolor{keywordflow}{if} (!(parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450af77d115d3bbed0a448b6b335f3b93b36}{kParseStopWhenDoneFlag}})) \{}
\DoxyCodeLine{579                 SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{580                 RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{581 }
\DoxyCodeLine{582                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(is.Peek() != \textcolor{charliteral}{'\(\backslash\)0'})) \{}
\DoxyCodeLine{583                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a2293b39033220f4c2a568482c497dab5}{kParseErrorDocumentRootNotSingular}}, is.Tell());}
\DoxyCodeLine{584                     RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{585                 \}}
\DoxyCodeLine{586             \}}
\DoxyCodeLine{587         \}}
\DoxyCodeLine{588 }
\DoxyCodeLine{589         \textcolor{keywordflow}{return} parseResult\_;}
\DoxyCodeLine{590     \}}
\DoxyCodeLine{591 }
\DoxyCodeLine{593 }
\DoxyCodeLine{599     \textcolor{keyword}{template} <\textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{600     \mbox{\hyperlink{struct_parse_result}{ParseResult}} \mbox{\hyperlink{class_generic_reader_a76d91e5fd8dfe48aea7dd6d8a51dd6dc}{Parse}}(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{601         \textcolor{keywordflow}{return} Parse<kParseDefaultFlags>(is, handler);}
\DoxyCodeLine{602     \}}
\DoxyCodeLine{603 }
\DoxyCodeLine{605 }
\DoxyCodeLine{607     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_generic_reader_a7de472eda2ad9de13cfd8c1de74f1754}{IterativeParseInit}}() \{}
\DoxyCodeLine{608         parseResult\_.\mbox{\hyperlink{struct_parse_result_a88b6d44f052a19e6436ae6aadc2c40b4}{Clear}}();}
\DoxyCodeLine{609         state\_ = IterativeParsingStartState;}
\DoxyCodeLine{610     \}}
\DoxyCodeLine{611 }
\DoxyCodeLine{613 }
\DoxyCodeLine{619     \textcolor{keyword}{template} <\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{620     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_generic_reader_a257891331e0c259903e7066fb4cebf92}{IterativeParseNext}}(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{621         \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(is.Peek() != \textcolor{charliteral}{'\(\backslash\)0'})) \{}
\DoxyCodeLine{622             SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{623 }
\DoxyCodeLine{624             Token t = Tokenize(is.Peek());}
\DoxyCodeLine{625             IterativeParsingState n = Predict(state\_, t);}
\DoxyCodeLine{626             IterativeParsingState d = Transit<parseFlags>(state\_, t, n, is, handler);}
\DoxyCodeLine{627 }
\DoxyCodeLine{628             \textcolor{comment}{// If we've finished or hit an error...}}
\DoxyCodeLine{629             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(IsIterativeParsingCompleteState(d))) \{}
\DoxyCodeLine{630                 \textcolor{comment}{// Report errors.}}
\DoxyCodeLine{631                 \textcolor{keywordflow}{if} (d == IterativeParsingErrorState) \{}
\DoxyCodeLine{632                     HandleError(state\_, is);}
\DoxyCodeLine{633                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{634                 \}}
\DoxyCodeLine{635 }
\DoxyCodeLine{636                 \textcolor{comment}{// Transition to the finish state.}}
\DoxyCodeLine{637                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(d == IterativeParsingFinishState);}
\DoxyCodeLine{638                 state\_ = d;}
\DoxyCodeLine{639 }
\DoxyCodeLine{640                 \textcolor{comment}{// If StopWhenDone is not set...}}
\DoxyCodeLine{641                 \textcolor{keywordflow}{if} (!(parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450af77d115d3bbed0a448b6b335f3b93b36}{kParseStopWhenDoneFlag}})) \{}
\DoxyCodeLine{642                     \textcolor{comment}{// ... and extra non-\/whitespace data is found...}}
\DoxyCodeLine{643                     SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{644                     \textcolor{keywordflow}{if} (is.Peek() != \textcolor{charliteral}{'\(\backslash\)0'}) \{}
\DoxyCodeLine{645                         \textcolor{comment}{// ... this is considered an error.}}
\DoxyCodeLine{646                         HandleError(state\_, is);}
\DoxyCodeLine{647                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{648                     \}}
\DoxyCodeLine{649                 \}}
\DoxyCodeLine{650 }
\DoxyCodeLine{651                 \textcolor{comment}{// Success! We are done!}}
\DoxyCodeLine{652                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{653             \}}
\DoxyCodeLine{654 }
\DoxyCodeLine{655             \textcolor{comment}{// Transition to the new state.}}
\DoxyCodeLine{656             state\_ = d;}
\DoxyCodeLine{657 }
\DoxyCodeLine{658             \textcolor{comment}{// If we parsed anything other than a delimiter, we invoked the handler, so we can return true now.}}
\DoxyCodeLine{659             \textcolor{keywordflow}{if} (!IsIterativeParsingDelimiterState(n))}
\DoxyCodeLine{660                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{661         \}}
\DoxyCodeLine{662 }
\DoxyCodeLine{663         \textcolor{comment}{// We reached the end of file.}}
\DoxyCodeLine{664         stack\_.\mbox{\hyperlink{classinternal_1_1_stack_a02da31665a372738e81ded2f7b7d598e}{Clear}}();}
\DoxyCodeLine{665 }
\DoxyCodeLine{666         \textcolor{keywordflow}{if} (state\_ != IterativeParsingFinishState) \{}
\DoxyCodeLine{667             HandleError(state\_, is);}
\DoxyCodeLine{668             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{669         \}}
\DoxyCodeLine{670 }
\DoxyCodeLine{671         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{672     \}}
\DoxyCodeLine{673 }
\DoxyCodeLine{675 }
\DoxyCodeLine{677     RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_generic_reader_aa1e9e1eef614fde971550ed2f955151d}{IterativeParseComplete}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{678         \textcolor{keywordflow}{return} IsIterativeParsingCompleteState(state\_);}
\DoxyCodeLine{679     \}}
\DoxyCodeLine{680 }
\DoxyCodeLine{682     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_generic_reader_ac417441794477ea747b63adb6d3653a9}{HasParseError}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} parseResult\_.\mbox{\hyperlink{struct_parse_result_adfe0ef5b994e82f8aa9ebf0b30c924b1}{IsError}}(); \}}
\DoxyCodeLine{683 }
\DoxyCodeLine{685     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga8d4b32dfc45840bca189ade2bbcb6ba7}{ParseErrorCode}} \mbox{\hyperlink{class_generic_reader_a937bf90919f50e1c370b312cee5833e8}{GetParseErrorCode}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} parseResult\_.\mbox{\hyperlink{struct_parse_result_a2aae3c2f42b31cc2409ee1e03bc4852e}{Code}}(); \}}
\DoxyCodeLine{686 }
\DoxyCodeLine{688     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{class_generic_reader_ae9008523ccd06d839a57335835cb4091}{GetErrorOffset}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} parseResult\_.\mbox{\hyperlink{struct_parse_result_afbe762766ac21b2aae266105f1dfa643}{Offset}}(); \}}
\DoxyCodeLine{689 }
\DoxyCodeLine{690 \textcolor{keyword}{protected}:}
\DoxyCodeLine{691     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_generic_reader_ae50079444295bf109730c3b708a818a6}{SetParseError}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga8d4b32dfc45840bca189ade2bbcb6ba7}{ParseErrorCode}} code, \textcolor{keywordtype}{size\_t} offset) \{ parseResult\_.\mbox{\hyperlink{struct_parse_result_aa81b4a7b776b77216cb752385203a8c1}{Set}}(code, offset); \}}
\DoxyCodeLine{692 }
\DoxyCodeLine{693 \textcolor{keyword}{private}:}
\DoxyCodeLine{694     \textcolor{comment}{// Prohibit copy constructor \& assignment operator.}}
\DoxyCodeLine{695     \mbox{\hyperlink{class_generic_reader_aab875a34b3092df9fb4e2b8eac6dbb96}{GenericReader}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_generic_reader}{GenericReader}}\&);}
\DoxyCodeLine{696     \mbox{\hyperlink{class_generic_reader}{GenericReader}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_generic_reader}{GenericReader}}\&);}
\DoxyCodeLine{697 }
\DoxyCodeLine{698     \textcolor{keywordtype}{void} ClearStack() \{ stack\_.\mbox{\hyperlink{classinternal_1_1_stack_a02da31665a372738e81ded2f7b7d598e}{Clear}}(); \}}
\DoxyCodeLine{699 }
\DoxyCodeLine{700     \textcolor{comment}{// clear stack on any exit from ParseStream, e.g. due to exception}}
\DoxyCodeLine{701     \textcolor{keyword}{struct }ClearStackOnExit \{}
\DoxyCodeLine{702         \textcolor{keyword}{explicit} ClearStackOnExit(\mbox{\hyperlink{class_generic_reader}{GenericReader}}\& r) : r\_(r) \{\}}
\DoxyCodeLine{703         \string~ClearStackOnExit() \{ r\_.ClearStack(); \}}
\DoxyCodeLine{704     \textcolor{keyword}{private}:}
\DoxyCodeLine{705         \mbox{\hyperlink{class_generic_reader}{GenericReader}}\& r\_;}
\DoxyCodeLine{706         ClearStackOnExit(\textcolor{keyword}{const} ClearStackOnExit\&);}
\DoxyCodeLine{707         ClearStackOnExit\& operator=(\textcolor{keyword}{const} ClearStackOnExit\&);}
\DoxyCodeLine{708     \};}
\DoxyCodeLine{709 }
\DoxyCodeLine{710     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream>}
\DoxyCodeLine{711     \textcolor{keywordtype}{void} SkipWhitespaceAndComments(InputStream\& is) \{}
\DoxyCodeLine{712         \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(is);}
\DoxyCodeLine{713 }
\DoxyCodeLine{714         \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a245d1b6af730f47f0e7bd27078f5e8c1}{kParseCommentsFlag}}) \{}
\DoxyCodeLine{715             \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(Consume(is, \textcolor{charliteral}{'/'}))) \{}
\DoxyCodeLine{716                 \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{'*'})) \{}
\DoxyCodeLine{717                     \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{718                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(is.Peek() == \textcolor{charliteral}{'\(\backslash\)0'}))}
\DoxyCodeLine{719                             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a2bec6b26bddd3e093a37fc0d6399e0be}{kParseErrorUnspecificSyntaxError}}, is.Tell());}
\DoxyCodeLine{720                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{'*'})) \{}
\DoxyCodeLine{721                             \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{'/'}))}
\DoxyCodeLine{722                                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{723                         \}}
\DoxyCodeLine{724                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{725                             is.Take();}
\DoxyCodeLine{726                     \}}
\DoxyCodeLine{727                 \}}
\DoxyCodeLine{728                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(Consume(is, \textcolor{charliteral}{'/'})))}
\DoxyCodeLine{729                     \textcolor{keywordflow}{while} (is.Peek() != \textcolor{charliteral}{'\(\backslash\)0'} \&\& is.Take() != \textcolor{charliteral}{'\(\backslash\)n'}) \{\}}
\DoxyCodeLine{730                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{731                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a2bec6b26bddd3e093a37fc0d6399e0be}{kParseErrorUnspecificSyntaxError}}, is.Tell());}
\DoxyCodeLine{732 }
\DoxyCodeLine{733                 \mbox{\hyperlink{reader_8h_a60338858b2582eca23f3e509a2d82e0e}{SkipWhitespace}}(is);}
\DoxyCodeLine{734             \}}
\DoxyCodeLine{735         \}}
\DoxyCodeLine{736     \}}
\DoxyCodeLine{737 }
\DoxyCodeLine{738     \textcolor{comment}{// Parse object: \{ string : value, ... \}}}
\DoxyCodeLine{739     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{740     \textcolor{keywordtype}{void} ParseObject(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{741         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.Peek() == \textcolor{charliteral}{'\{'});}
\DoxyCodeLine{742         is.Take();  \textcolor{comment}{// Skip '\{'}}
\DoxyCodeLine{743 }
\DoxyCodeLine{744         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.StartObject()))}
\DoxyCodeLine{745             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{746 }
\DoxyCodeLine{747         SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{748         RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{749 }
\DoxyCodeLine{750         \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{'\}'})) \{}
\DoxyCodeLine{751             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.EndObject(0)))  \textcolor{comment}{// empty object}}
\DoxyCodeLine{752                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{753             \textcolor{keywordflow}{return};}
\DoxyCodeLine{754         \}}
\DoxyCodeLine{755 }
\DoxyCodeLine{756         \textcolor{keywordflow}{for} (\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} memberCount = 0;;) \{}
\DoxyCodeLine{757             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(is.Peek() != \textcolor{charliteral}{'"{}'}))}
\DoxyCodeLine{758                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ae3142fbadf2c4cdfd0c7200d7b6b8ed3}{kParseErrorObjectMissName}}, is.Tell());}
\DoxyCodeLine{759 }
\DoxyCodeLine{760             ParseString<parseFlags>(is, handler, \textcolor{keyword}{true});}
\DoxyCodeLine{761             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{762 }
\DoxyCodeLine{763             SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{764             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{765 }
\DoxyCodeLine{766             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!Consume(is, \textcolor{charliteral}{':'})))}
\DoxyCodeLine{767                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a55cda7eb30436986ab42a61e06caf017}{kParseErrorObjectMissColon}}, is.Tell());}
\DoxyCodeLine{768 }
\DoxyCodeLine{769             SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{770             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{771 }
\DoxyCodeLine{772             ParseValue<parseFlags>(is, handler);}
\DoxyCodeLine{773             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{774 }
\DoxyCodeLine{775             SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{776             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{777 }
\DoxyCodeLine{778             ++memberCount;}
\DoxyCodeLine{779 }
\DoxyCodeLine{780             \textcolor{keywordflow}{switch} (is.Peek()) \{}
\DoxyCodeLine{781                 \textcolor{keywordflow}{case} \textcolor{charliteral}{','}:}
\DoxyCodeLine{782                     is.Take();}
\DoxyCodeLine{783                     SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{784                     RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{785                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{786                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\}'}:}
\DoxyCodeLine{787                     is.Take();}
\DoxyCodeLine{788                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.EndObject(memberCount)))}
\DoxyCodeLine{789                         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{790                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{791                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{792                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a34f70d7ed2fa121954f5fc5b5113d05f}{kParseErrorObjectMissCommaOrCurlyBracket}}, is.Tell()); \textcolor{keywordflow}{break}; \textcolor{comment}{// This useless break is only for making warning and coverage happy}}
\DoxyCodeLine{793             \}}
\DoxyCodeLine{794 }
\DoxyCodeLine{795             \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a953d6381de950e25c8c97ad54f52370a}{kParseTrailingCommasFlag}}) \{}
\DoxyCodeLine{796                 \textcolor{keywordflow}{if} (is.Peek() == \textcolor{charliteral}{'\}'}) \{}
\DoxyCodeLine{797                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.EndObject(memberCount)))}
\DoxyCodeLine{798                         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{799                     is.Take();}
\DoxyCodeLine{800                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{801                 \}}
\DoxyCodeLine{802             \}}
\DoxyCodeLine{803         \}}
\DoxyCodeLine{804     \}}
\DoxyCodeLine{805 }
\DoxyCodeLine{806     \textcolor{comment}{// Parse array: [ value, ... ]}}
\DoxyCodeLine{807     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{808     \textcolor{keywordtype}{void} ParseArray(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{809         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.Peek() == \textcolor{charliteral}{'['});}
\DoxyCodeLine{810         is.Take();  \textcolor{comment}{// Skip '['}}
\DoxyCodeLine{811 }
\DoxyCodeLine{812         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.StartArray()))}
\DoxyCodeLine{813             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{814 }
\DoxyCodeLine{815         SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{816         RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{817 }
\DoxyCodeLine{818         \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{']'})) \{}
\DoxyCodeLine{819             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.EndArray(0))) \textcolor{comment}{// empty array}}
\DoxyCodeLine{820                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{821             \textcolor{keywordflow}{return};}
\DoxyCodeLine{822         \}}
\DoxyCodeLine{823 }
\DoxyCodeLine{824         \textcolor{keywordflow}{for} (\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} elementCount = 0;;) \{}
\DoxyCodeLine{825             ParseValue<parseFlags>(is, handler);}
\DoxyCodeLine{826             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{827 }
\DoxyCodeLine{828             ++elementCount;}
\DoxyCodeLine{829             SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{830             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{831 }
\DoxyCodeLine{832             \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{','})) \{}
\DoxyCodeLine{833                 SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{834                 RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{835             \}}
\DoxyCodeLine{836             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Consume(is, \textcolor{charliteral}{']'})) \{}
\DoxyCodeLine{837                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.EndArray(elementCount)))}
\DoxyCodeLine{838                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{839                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{840             \}}
\DoxyCodeLine{841             \textcolor{keywordflow}{else}}
\DoxyCodeLine{842                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7abfdd2bd90134fec4fe6a22762d16a5f5}{kParseErrorArrayMissCommaOrSquareBracket}}, is.Tell());}
\DoxyCodeLine{843 }
\DoxyCodeLine{844             \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a953d6381de950e25c8c97ad54f52370a}{kParseTrailingCommasFlag}}) \{}
\DoxyCodeLine{845                 \textcolor{keywordflow}{if} (is.Peek() == \textcolor{charliteral}{']'}) \{}
\DoxyCodeLine{846                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.EndArray(elementCount)))}
\DoxyCodeLine{847                         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{848                     is.Take();}
\DoxyCodeLine{849                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{850                 \}}
\DoxyCodeLine{851             \}}
\DoxyCodeLine{852         \}}
\DoxyCodeLine{853     \}}
\DoxyCodeLine{854 }
\DoxyCodeLine{855     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{856     \textcolor{keywordtype}{void} ParseNull(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{857         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.Peek() == \textcolor{charliteral}{'n'});}
\DoxyCodeLine{858         is.Take();}
\DoxyCodeLine{859 }
\DoxyCodeLine{860         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(Consume(is, \textcolor{charliteral}{'u'}) \&\& Consume(is, \textcolor{charliteral}{'l'}) \&\& Consume(is, \textcolor{charliteral}{'l'}))) \{}
\DoxyCodeLine{861             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.Null()))}
\DoxyCodeLine{862                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{863         \}}
\DoxyCodeLine{864         \textcolor{keywordflow}{else}}
\DoxyCodeLine{865             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, is.Tell());}
\DoxyCodeLine{866     \}}
\DoxyCodeLine{867 }
\DoxyCodeLine{868     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{869     \textcolor{keywordtype}{void} ParseTrue(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{870         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.Peek() == \textcolor{charliteral}{'t'});}
\DoxyCodeLine{871         is.Take();}
\DoxyCodeLine{872 }
\DoxyCodeLine{873         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(Consume(is, \textcolor{charliteral}{'r'}) \&\& Consume(is, \textcolor{charliteral}{'u'}) \&\& Consume(is, \textcolor{charliteral}{'e'}))) \{}
\DoxyCodeLine{874             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.Bool(\textcolor{keyword}{true})))}
\DoxyCodeLine{875                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{876         \}}
\DoxyCodeLine{877         \textcolor{keywordflow}{else}}
\DoxyCodeLine{878             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, is.Tell());}
\DoxyCodeLine{879     \}}
\DoxyCodeLine{880 }
\DoxyCodeLine{881     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{882     \textcolor{keywordtype}{void} ParseFalse(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{883         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.Peek() == \textcolor{charliteral}{'f'});}
\DoxyCodeLine{884         is.Take();}
\DoxyCodeLine{885 }
\DoxyCodeLine{886         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(Consume(is, \textcolor{charliteral}{'a'}) \&\& Consume(is, \textcolor{charliteral}{'l'}) \&\& Consume(is, \textcolor{charliteral}{'s'}) \&\& Consume(is, \textcolor{charliteral}{'e'}))) \{}
\DoxyCodeLine{887             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!handler.Bool(\textcolor{keyword}{false})))}
\DoxyCodeLine{888                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{889         \}}
\DoxyCodeLine{890         \textcolor{keywordflow}{else}}
\DoxyCodeLine{891             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, is.Tell());}
\DoxyCodeLine{892     \}}
\DoxyCodeLine{893 }
\DoxyCodeLine{894     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream>}
\DoxyCodeLine{895     RAPIDJSON\_FORCEINLINE \textcolor{keyword}{static} \textcolor{keywordtype}{bool} Consume(InputStream\& is, \textcolor{keyword}{typename} InputStream::Ch expect) \{}
\DoxyCodeLine{896         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(is.Peek() == expect)) \{}
\DoxyCodeLine{897             is.Take();}
\DoxyCodeLine{898             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{899         \}}
\DoxyCodeLine{900         \textcolor{keywordflow}{else}}
\DoxyCodeLine{901             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{902     \}}
\DoxyCodeLine{903 }
\DoxyCodeLine{904     \textcolor{comment}{// Helper function to parse four hexadecimal digits in \(\backslash\)uXXXX in ParseString().}}
\DoxyCodeLine{905     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream>}
\DoxyCodeLine{906     \textcolor{keywordtype}{unsigned} ParseHex4(InputStream\& is, \textcolor{keywordtype}{size\_t} escapeOffset) \{}
\DoxyCodeLine{907         \textcolor{keywordtype}{unsigned} codepoint = 0;}
\DoxyCodeLine{908         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; i++) \{}
\DoxyCodeLine{909             \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} c = is.Peek();}
\DoxyCodeLine{910             codepoint <<= 4;}
\DoxyCodeLine{911             codepoint += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(c);}
\DoxyCodeLine{912             \textcolor{keywordflow}{if} (c >= \textcolor{charliteral}{'0'} \&\& c <= \textcolor{charliteral}{'9'})}
\DoxyCodeLine{913                 codepoint -\/= \textcolor{charliteral}{'0'};}
\DoxyCodeLine{914             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (c >= \textcolor{charliteral}{'A'} \&\& c <= \textcolor{charliteral}{'F'})}
\DoxyCodeLine{915                 codepoint -\/= \textcolor{charliteral}{'A'} -\/ 10;}
\DoxyCodeLine{916             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (c >= \textcolor{charliteral}{'a'} \&\& c <= \textcolor{charliteral}{'f'})}
\DoxyCodeLine{917                 codepoint -\/= \textcolor{charliteral}{'a'} -\/ 10;}
\DoxyCodeLine{918             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{919                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7afc65ea941a0a26812f0f258d2429e5d2}{kParseErrorStringUnicodeEscapeInvalidHex}}, escapeOffset);}
\DoxyCodeLine{920                 RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(0);}
\DoxyCodeLine{921             \}}
\DoxyCodeLine{922             is.Take();}
\DoxyCodeLine{923         \}}
\DoxyCodeLine{924         \textcolor{keywordflow}{return} codepoint;}
\DoxyCodeLine{925     \}}
\DoxyCodeLine{926 }
\DoxyCodeLine{927     \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharType>}
\DoxyCodeLine{928     \textcolor{keyword}{class }StackStream \{}
\DoxyCodeLine{929     \textcolor{keyword}{public}:}
\DoxyCodeLine{930         \textcolor{keyword}{typedef} CharType \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}};}
\DoxyCodeLine{931 }
\DoxyCodeLine{932         StackStream(\mbox{\hyperlink{classinternal_1_1_stack}{internal::Stack<StackAllocator>}}\& stack) : stack\_(stack), length\_(0) \{\}}
\DoxyCodeLine{933         RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} Put(\mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} c) \{}
\DoxyCodeLine{934             *stack\_.template Push<Ch>() = c;}
\DoxyCodeLine{935             ++length\_;}
\DoxyCodeLine{936         \}}
\DoxyCodeLine{937 }
\DoxyCodeLine{938         RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void}* Push(\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} count) \{}
\DoxyCodeLine{939             length\_ += count;}
\DoxyCodeLine{940             \textcolor{keywordflow}{return} stack\_.template Push<Ch>(count);}
\DoxyCodeLine{941         \}}
\DoxyCodeLine{942 }
\DoxyCodeLine{943         \textcolor{keywordtype}{size\_t} Length()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} length\_; \}}
\DoxyCodeLine{944 }
\DoxyCodeLine{945         \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}}* Pop() \{}
\DoxyCodeLine{946             \textcolor{keywordflow}{return} stack\_.template Pop<Ch>(length\_);}
\DoxyCodeLine{947         \}}
\DoxyCodeLine{948 }
\DoxyCodeLine{949     \textcolor{keyword}{private}:}
\DoxyCodeLine{950         StackStream(\textcolor{keyword}{const} StackStream\&);}
\DoxyCodeLine{951         StackStream\& operator=(\textcolor{keyword}{const} StackStream\&);}
\DoxyCodeLine{952 }
\DoxyCodeLine{953         \mbox{\hyperlink{classinternal_1_1_stack}{internal::Stack<StackAllocator>}}\& stack\_;}
\DoxyCodeLine{954         \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} length\_;}
\DoxyCodeLine{955     \};}
\DoxyCodeLine{956 }
\DoxyCodeLine{957     \textcolor{comment}{// Parse string and generate String event. Different code paths for kParseInsituFlag.}}
\DoxyCodeLine{958     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{959     \textcolor{keywordtype}{void} ParseString(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler, \textcolor{keywordtype}{bool} isKey = \textcolor{keyword}{false}) \{}
\DoxyCodeLine{960         \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{internal::StreamLocalCopy<InputStream>}} copy(is);}
\DoxyCodeLine{961         InputStream\& s(copy.s);}
\DoxyCodeLine{962 }
\DoxyCodeLine{963         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(s.Peek() == \textcolor{charliteral}{'\(\backslash\)"{}'});}
\DoxyCodeLine{964         s.Take();  \textcolor{comment}{// Skip '\(\backslash\)"{}'}}
\DoxyCodeLine{965 }
\DoxyCodeLine{966         \textcolor{keywordtype}{bool} success = \textcolor{keyword}{false};}
\DoxyCodeLine{967         \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a13188bd483b4df0b6582bebe2aeb5b01}{kParseInsituFlag}}) \{}
\DoxyCodeLine{968             \textcolor{keyword}{typename} InputStream::Ch *head = s.PutBegin();}
\DoxyCodeLine{969             ParseStringToStream<parseFlags, SourceEncoding, SourceEncoding>(s, s);}
\DoxyCodeLine{970             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{971             \textcolor{keywordtype}{size\_t} length = s.PutEnd(head) -\/ 1;}
\DoxyCodeLine{972             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(length <= 0xFFFFFFFF);}
\DoxyCodeLine{973             \textcolor{keyword}{const} \textcolor{keyword}{typename} TargetEncoding::Ch* \textcolor{keyword}{const} str = \textcolor{keyword}{reinterpret\_cast<}typename TargetEncoding::Ch*\textcolor{keyword}{>}(head);}
\DoxyCodeLine{974             success = (isKey ? handler.Key(str, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}(length), \textcolor{keyword}{false}) : handler.String(str, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}(length), \textcolor{keyword}{false}));}
\DoxyCodeLine{975         \}}
\DoxyCodeLine{976         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{977             StackStream<typename TargetEncoding::Ch> stackStream(stack\_);}
\DoxyCodeLine{978             ParseStringToStream<parseFlags, SourceEncoding, TargetEncoding>(s, stackStream);}
\DoxyCodeLine{979             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{980             \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} length = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\textcolor{keyword}{>}(stackStream.Length()) -\/ 1;}
\DoxyCodeLine{981             \textcolor{keyword}{const} \textcolor{keyword}{typename} TargetEncoding::Ch* \textcolor{keyword}{const} str = stackStream.Pop();}
\DoxyCodeLine{982             success = (isKey ? handler.Key(str, length, \textcolor{keyword}{true}) : handler.String(str, length, \textcolor{keyword}{true}));}
\DoxyCodeLine{983         \}}
\DoxyCodeLine{984         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!success))}
\DoxyCodeLine{985             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, s.Tell());}
\DoxyCodeLine{986     \}}
\DoxyCodeLine{987 }
\DoxyCodeLine{988     \textcolor{comment}{// Parse string to an output is}}
\DoxyCodeLine{989     \textcolor{comment}{// This function handles the prefix/suffix double quotes, escaping, and optional encoding validation.}}
\DoxyCodeLine{990     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} SEncoding, \textcolor{keyword}{typename} TEncoding, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} OutputStream>}
\DoxyCodeLine{991     RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} ParseStringToStream(InputStream\& is, OutputStream\& os) \{}
\DoxyCodeLine{993 \textcolor{preprocessor}{\#define Z16 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}}
\DoxyCodeLine{994         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} escape[256] = \{}
\DoxyCodeLine{995             \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, 0, 0,\textcolor{charliteral}{'\(\backslash\)"{}'}, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \textcolor{charliteral}{'/'},}
\DoxyCodeLine{996             \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, 0, 0, 0,}
\DoxyCodeLine{997             0, 0,\textcolor{charliteral}{'\(\backslash\)b'}, 0, 0, 0,\textcolor{charliteral}{'\(\backslash\)f'}, 0, 0, 0, 0, 0, 0, 0,\textcolor{charliteral}{'\(\backslash\)n'}, 0,}
\DoxyCodeLine{998             0, 0,\textcolor{charliteral}{'\(\backslash\)r'}, 0,\textcolor{charliteral}{'\(\backslash\)t'}, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,}
\DoxyCodeLine{999             \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}, \mbox{\hyperlink{writer_8h_ae2c492a0a464591893d4255ea26d5e3a}{Z16}}}
\DoxyCodeLine{1000         \};}
\DoxyCodeLine{1001 \textcolor{preprocessor}{\#undef Z16}}
\DoxyCodeLine{1003 }
\DoxyCodeLine{1004         \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{1005             \textcolor{comment}{// Scan and copy string before "{}\(\backslash\)\(\backslash\)\(\backslash\)"{}"{} or < 0x20. This is an optional optimzation.}}
\DoxyCodeLine{1006             \textcolor{keywordflow}{if} (!(parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a9b3baa16346575d2dc072b23a88e1928}{kParseValidateEncodingFlag}}))}
\DoxyCodeLine{1007                 ScanCopyUnescapedString(is, os);}
\DoxyCodeLine{1008 }
\DoxyCodeLine{1009             \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} c = is.Peek();}
\DoxyCodeLine{1010             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(c == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})) \{    \textcolor{comment}{// Escape}}
\DoxyCodeLine{1011                 \textcolor{keywordtype}{size\_t} escapeOffset = is.Tell();    \textcolor{comment}{// For invalid escaping, report the initial '\(\backslash\)\(\backslash\)' as error offset}}
\DoxyCodeLine{1012                 is.Take();}
\DoxyCodeLine{1013                 \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} e = is.Peek();}
\DoxyCodeLine{1014                 \textcolor{keywordflow}{if} ((\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}}) == 1 || \textcolor{keywordtype}{unsigned}(e) < 256) \&\& \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(escape[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(e)])) \{}
\DoxyCodeLine{1015                     is.Take();}
\DoxyCodeLine{1016                     os.Put(\textcolor{keyword}{static\_cast<}typename TEncoding::Ch\textcolor{keyword}{>}(escape[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(e)]));}
\DoxyCodeLine{1017                 \}}
\DoxyCodeLine{1018                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a7593d429928f1a8224c5793928d4db3e}{kParseEscapedApostropheFlag}}) \&\& \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(e == \textcolor{charliteral}{'\(\backslash\)''})) \{ \textcolor{comment}{// Allow escaped apostrophe}}
\DoxyCodeLine{1019                     is.Take();}
\DoxyCodeLine{1020                     os.Put(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{1021                 \}}
\DoxyCodeLine{1022                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(e == \textcolor{charliteral}{'u'})) \{    \textcolor{comment}{// Unicode}}
\DoxyCodeLine{1023                     is.Take();}
\DoxyCodeLine{1024                     \textcolor{keywordtype}{unsigned} codepoint = ParseHex4(is, escapeOffset);}
\DoxyCodeLine{1025                     RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{1026                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(codepoint >= 0xD800 \&\& codepoint <= 0xDFFF)) \{}
\DoxyCodeLine{1027                         \textcolor{comment}{// high surrogate, check if followed by valid low surrogate}}
\DoxyCodeLine{1028                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(codepoint <= 0xDBFF)) \{}
\DoxyCodeLine{1029                             \textcolor{comment}{// Handle UTF-\/16 surrogate pair}}
\DoxyCodeLine{1030                             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!Consume(is, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || !Consume(is, \textcolor{charliteral}{'u'})))}
\DoxyCodeLine{1031                                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ad9fced6763a06435ca448626c74e5c72}{kParseErrorStringUnicodeSurrogateInvalid}}, escapeOffset);}
\DoxyCodeLine{1032                             \textcolor{keywordtype}{unsigned} codepoint2 = ParseHex4(is, escapeOffset);}
\DoxyCodeLine{1033                             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN\_VOID;}
\DoxyCodeLine{1034                             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(codepoint2 < 0xDC00 || codepoint2 > 0xDFFF))}
\DoxyCodeLine{1035                                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ad9fced6763a06435ca448626c74e5c72}{kParseErrorStringUnicodeSurrogateInvalid}}, escapeOffset);}
\DoxyCodeLine{1036                             codepoint = (((codepoint -\/ 0xD800) << 10) | (codepoint2 -\/ 0xDC00)) + 0x10000;}
\DoxyCodeLine{1037                         \}}
\DoxyCodeLine{1038                         \textcolor{comment}{// single low surrogate}}
\DoxyCodeLine{1039                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1040                         \{}
\DoxyCodeLine{1041                             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ad9fced6763a06435ca448626c74e5c72}{kParseErrorStringUnicodeSurrogateInvalid}}, escapeOffset);}
\DoxyCodeLine{1042                         \}}
\DoxyCodeLine{1043                     \}}
\DoxyCodeLine{1044                     TEncoding::Encode(os, codepoint);}
\DoxyCodeLine{1045                 \}}
\DoxyCodeLine{1046                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1047                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a98bb3f3b1e12fdb7f278b9fa4029306f}{kParseErrorStringEscapeInvalid}}, escapeOffset);}
\DoxyCodeLine{1048             \}}
\DoxyCodeLine{1049             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(c == \textcolor{charliteral}{'"{}'})) \{    \textcolor{comment}{// Closing double quote}}
\DoxyCodeLine{1050                 is.Take();}
\DoxyCodeLine{1051                 os.Put(\textcolor{charliteral}{'\(\backslash\)0'});   \textcolor{comment}{// null-\/terminate the string}}
\DoxyCodeLine{1052                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1053             \}}
\DoxyCodeLine{1054             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(c) < 0x20)) \{ \textcolor{comment}{// RFC 4627: unescaped = \%x20-\/21 / \%x23-\/5B / \%x5D-\/10FFFF}}
\DoxyCodeLine{1055                 \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{1056                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6369e5b4e4922720cbc45c5941efc4af}{kParseErrorStringMissQuotationMark}}, is.Tell());}
\DoxyCodeLine{1057                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1058                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a17ecb2ed1524b513d64a93f4a7a8b456}{kParseErrorStringInvalidEncoding}}, is.Tell());}
\DoxyCodeLine{1059             \}}
\DoxyCodeLine{1060             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1061                 \textcolor{keywordtype}{size\_t} offset = is.Tell();}
\DoxyCodeLine{1062                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a9b3baa16346575d2dc072b23a88e1928}{kParseValidateEncodingFlag}} ?}
\DoxyCodeLine{1063                     !\mbox{\hyperlink{struct_transcoder}{Transcoder<SEncoding, TEncoding>::Validate}}(is, os) :}
\DoxyCodeLine{1064                     !\mbox{\hyperlink{struct_transcoder}{Transcoder<SEncoding, TEncoding>::Transcode}}(is, os))))}
\DoxyCodeLine{1065                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a17ecb2ed1524b513d64a93f4a7a8b456}{kParseErrorStringInvalidEncoding}}, offset);}
\DoxyCodeLine{1066             \}}
\DoxyCodeLine{1067         \}}
\DoxyCodeLine{1068     \}}
\DoxyCodeLine{1069 }
\DoxyCodeLine{1070     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} OutputStream>}
\DoxyCodeLine{1071     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} ScanCopyUnescapedString(InputStream\&, OutputStream\&) \{}
\DoxyCodeLine{1072             \textcolor{comment}{// Do nothing for generic version}}
\DoxyCodeLine{1073     \}}
\DoxyCodeLine{1074 }
\DoxyCodeLine{1075 \textcolor{preprocessor}{\#if defined(RAPIDJSON\_SSE2) || defined(RAPIDJSON\_SSE42)}}
\DoxyCodeLine{1076     \textcolor{comment}{// StringStream -\/> StackStream<char>}}
\DoxyCodeLine{1077     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} ScanCopyUnescapedString(\mbox{\hyperlink{struct_generic_string_stream}{StringStream}}\& is, StackStream<char>\& os) \{}
\DoxyCodeLine{1078         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* p = is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}};}
\DoxyCodeLine{1079 }
\DoxyCodeLine{1080         \textcolor{comment}{// Scan one by one until alignment (unaligned load may cross page boundary and cause crash)}}
\DoxyCodeLine{1081         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{1082         \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{1083             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)"{}'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(*p) < 0x20)) \{}
\DoxyCodeLine{1084                 is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}} = p;}
\DoxyCodeLine{1085                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1086             \}}
\DoxyCodeLine{1087             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1088                 os.Put(*p++);}
\DoxyCodeLine{1089 }
\DoxyCodeLine{1090         \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{1091         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} dquote[16] = \{ \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'} \};}
\DoxyCodeLine{1092         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} bslash[16] = \{ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'} \};}
\DoxyCodeLine{1093         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} space[16]  = \{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F \};}
\DoxyCodeLine{1094         \textcolor{keyword}{const} \_\_m128i dq = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&dquote[0]));}
\DoxyCodeLine{1095         \textcolor{keyword}{const} \_\_m128i bs = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&bslash[0]));}
\DoxyCodeLine{1096         \textcolor{keyword}{const} \_\_m128i sp = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&space[0]));}
\DoxyCodeLine{1097 }
\DoxyCodeLine{1098         \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{1099             \textcolor{keyword}{const} \_\_m128i s = \_mm\_load\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{1100             \textcolor{keyword}{const} \_\_m128i t1 = \_mm\_cmpeq\_epi8(s, dq);}
\DoxyCodeLine{1101             \textcolor{keyword}{const} \_\_m128i t2 = \_mm\_cmpeq\_epi8(s, bs);}
\DoxyCodeLine{1102             \textcolor{keyword}{const} \_\_m128i t3 = \_mm\_cmpeq\_epi8(\_mm\_max\_epu8(s, sp), sp); \textcolor{comment}{// s < 0x20 <=> max(s, 0x1F) == 0x1F}}
\DoxyCodeLine{1103             \textcolor{keyword}{const} \_\_m128i x = \_mm\_or\_si128(\_mm\_or\_si128(t1, t2), t3);}
\DoxyCodeLine{1104             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} r = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}\textcolor{keyword}{>}(\_mm\_movemask\_epi8(x));}
\DoxyCodeLine{1105             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(r != 0)) \{   \textcolor{comment}{// some of characters is escaped}}
\DoxyCodeLine{1106                 \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} length;}
\DoxyCodeLine{1107 \textcolor{preprocessor}{    \#ifdef \_MSC\_VER         }\textcolor{comment}{// Find the index of first escaped}}
\DoxyCodeLine{1108                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} offset;}
\DoxyCodeLine{1109                 \_BitScanForward(\&offset, r);}
\DoxyCodeLine{1110                 length = offset;}
\DoxyCodeLine{1111 \textcolor{preprocessor}{    \#else}}
\DoxyCodeLine{1112                 length = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\textcolor{keyword}{>}(\_\_builtin\_ffs(r) -\/ 1);}
\DoxyCodeLine{1113 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{1114                 \textcolor{keywordflow}{if} (length != 0) \{}
\DoxyCodeLine{1115                     \textcolor{keywordtype}{char}* q = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(os.Push(length));}
\DoxyCodeLine{1116                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < length; i++)}
\DoxyCodeLine{1117                         q[i] = p[i];}
\DoxyCodeLine{1118 }
\DoxyCodeLine{1119                     p += length;}
\DoxyCodeLine{1120                 \}}
\DoxyCodeLine{1121                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1122             \}}
\DoxyCodeLine{1123             \_mm\_storeu\_si128(\textcolor{keyword}{reinterpret\_cast<}\_\_m128i *\textcolor{keyword}{>}(os.Push(16)), s);}
\DoxyCodeLine{1124         \}}
\DoxyCodeLine{1125 }
\DoxyCodeLine{1126         is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}} = p;}
\DoxyCodeLine{1127     \}}
\DoxyCodeLine{1128 }
\DoxyCodeLine{1129     \textcolor{comment}{// InsituStringStream -\/> InsituStringStream}}
\DoxyCodeLine{1130     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} ScanCopyUnescapedString(\mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& is, \mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& os) \{}
\DoxyCodeLine{1131         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(\&is == \&os);}
\DoxyCodeLine{1132         (void)os;}
\DoxyCodeLine{1133 }
\DoxyCodeLine{1134         \textcolor{keywordflow}{if} (is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} == is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}}) \{}
\DoxyCodeLine{1135             SkipUnescapedString(is);}
\DoxyCodeLine{1136             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1137         \}}
\DoxyCodeLine{1138 }
\DoxyCodeLine{1139         \textcolor{keywordtype}{char}* p = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}};}
\DoxyCodeLine{1140         \textcolor{keywordtype}{char} *q = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}};}
\DoxyCodeLine{1141 }
\DoxyCodeLine{1142         \textcolor{comment}{// Scan one by one until alignment (unaligned load may cross page boundary and cause crash)}}
\DoxyCodeLine{1143         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{1144         \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{1145             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)"{}'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(*p) < 0x20)) \{}
\DoxyCodeLine{1146                 is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = p;}
\DoxyCodeLine{1147                 is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = q;}
\DoxyCodeLine{1148                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1149             \}}
\DoxyCodeLine{1150             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1151                 *q++ = *p++;}
\DoxyCodeLine{1152 }
\DoxyCodeLine{1153         \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{1154         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} dquote[16] = \{ \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'} \};}
\DoxyCodeLine{1155         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} bslash[16] = \{ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'} \};}
\DoxyCodeLine{1156         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} space[16] = \{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F \};}
\DoxyCodeLine{1157         \textcolor{keyword}{const} \_\_m128i dq = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&dquote[0]));}
\DoxyCodeLine{1158         \textcolor{keyword}{const} \_\_m128i bs = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&bslash[0]));}
\DoxyCodeLine{1159         \textcolor{keyword}{const} \_\_m128i sp = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&space[0]));}
\DoxyCodeLine{1160 }
\DoxyCodeLine{1161         \textcolor{keywordflow}{for} (;; p += 16, q += 16) \{}
\DoxyCodeLine{1162             \textcolor{keyword}{const} \_\_m128i s = \_mm\_load\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{1163             \textcolor{keyword}{const} \_\_m128i t1 = \_mm\_cmpeq\_epi8(s, dq);}
\DoxyCodeLine{1164             \textcolor{keyword}{const} \_\_m128i t2 = \_mm\_cmpeq\_epi8(s, bs);}
\DoxyCodeLine{1165             \textcolor{keyword}{const} \_\_m128i t3 = \_mm\_cmpeq\_epi8(\_mm\_max\_epu8(s, sp), sp); \textcolor{comment}{// s < 0x20 <=> max(s, 0x1F) == 0x1F}}
\DoxyCodeLine{1166             \textcolor{keyword}{const} \_\_m128i x = \_mm\_or\_si128(\_mm\_or\_si128(t1, t2), t3);}
\DoxyCodeLine{1167             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} r = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}\textcolor{keyword}{>}(\_mm\_movemask\_epi8(x));}
\DoxyCodeLine{1168             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(r != 0)) \{   \textcolor{comment}{// some of characters is escaped}}
\DoxyCodeLine{1169                 \textcolor{keywordtype}{size\_t} length;}
\DoxyCodeLine{1170 \textcolor{preprocessor}{\#ifdef \_MSC\_VER         }\textcolor{comment}{// Find the index of first escaped}}
\DoxyCodeLine{1171                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} offset;}
\DoxyCodeLine{1172                 \_BitScanForward(\&offset, r);}
\DoxyCodeLine{1173                 length = offset;}
\DoxyCodeLine{1174 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1175                 length = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\_\_builtin\_ffs(r) -\/ 1);}
\DoxyCodeLine{1176 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1177                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{char}* pend = p + length; p != pend; )}
\DoxyCodeLine{1178                     *q++ = *p++;}
\DoxyCodeLine{1179                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1180             \}}
\DoxyCodeLine{1181             \_mm\_storeu\_si128(\textcolor{keyword}{reinterpret\_cast<}\_\_m128i *\textcolor{keyword}{>}(q), s);}
\DoxyCodeLine{1182         \}}
\DoxyCodeLine{1183 }
\DoxyCodeLine{1184         is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = p;}
\DoxyCodeLine{1185         is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = q;}
\DoxyCodeLine{1186     \}}
\DoxyCodeLine{1187 }
\DoxyCodeLine{1188     \textcolor{comment}{// When read/write pointers are the same for insitu stream, just skip unescaped characters}}
\DoxyCodeLine{1189     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} SkipUnescapedString(\mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& is) \{}
\DoxyCodeLine{1190         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} == is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}});}
\DoxyCodeLine{1191         \textcolor{keywordtype}{char}* p = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}};}
\DoxyCodeLine{1192 }
\DoxyCodeLine{1193         \textcolor{comment}{// Scan one by one until alignment (unaligned load may cross page boundary and cause crash)}}
\DoxyCodeLine{1194         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{1195         \textcolor{keywordflow}{for} (; p != nextAligned; p++)}
\DoxyCodeLine{1196             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)"{}'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(*p) < 0x20)) \{}
\DoxyCodeLine{1197                 is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = p;}
\DoxyCodeLine{1198                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1199             \}}
\DoxyCodeLine{1200 }
\DoxyCodeLine{1201         \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{1202         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} dquote[16] = \{ \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'} \};}
\DoxyCodeLine{1203         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} bslash[16] = \{ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'} \};}
\DoxyCodeLine{1204         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} space[16] = \{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F \};}
\DoxyCodeLine{1205         \textcolor{keyword}{const} \_\_m128i dq = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&dquote[0]));}
\DoxyCodeLine{1206         \textcolor{keyword}{const} \_\_m128i bs = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&bslash[0]));}
\DoxyCodeLine{1207         \textcolor{keyword}{const} \_\_m128i sp = \_mm\_loadu\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(\&space[0]));}
\DoxyCodeLine{1208 }
\DoxyCodeLine{1209         \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{1210             \textcolor{keyword}{const} \_\_m128i s = \_mm\_load\_si128(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\_\_m128i *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{1211             \textcolor{keyword}{const} \_\_m128i t1 = \_mm\_cmpeq\_epi8(s, dq);}
\DoxyCodeLine{1212             \textcolor{keyword}{const} \_\_m128i t2 = \_mm\_cmpeq\_epi8(s, bs);}
\DoxyCodeLine{1213             \textcolor{keyword}{const} \_\_m128i t3 = \_mm\_cmpeq\_epi8(\_mm\_max\_epu8(s, sp), sp); \textcolor{comment}{// s < 0x20 <=> max(s, 0x1F) == 0x1F}}
\DoxyCodeLine{1214             \textcolor{keyword}{const} \_\_m128i x = \_mm\_or\_si128(\_mm\_or\_si128(t1, t2), t3);}
\DoxyCodeLine{1215             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} r = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}\textcolor{keyword}{>}(\_mm\_movemask\_epi8(x));}
\DoxyCodeLine{1216             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(r != 0)) \{   \textcolor{comment}{// some of characters is escaped}}
\DoxyCodeLine{1217                 \textcolor{keywordtype}{size\_t} length;}
\DoxyCodeLine{1218 \textcolor{preprocessor}{\#ifdef \_MSC\_VER         }\textcolor{comment}{// Find the index of first escaped}}
\DoxyCodeLine{1219                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} offset;}
\DoxyCodeLine{1220                 \_BitScanForward(\&offset, r);}
\DoxyCodeLine{1221                 length = offset;}
\DoxyCodeLine{1222 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1223                 length = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\_\_builtin\_ffs(r) -\/ 1);}
\DoxyCodeLine{1224 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1225                 p += length;}
\DoxyCodeLine{1226                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1227             \}}
\DoxyCodeLine{1228         \}}
\DoxyCodeLine{1229 }
\DoxyCodeLine{1230         is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = p;}
\DoxyCodeLine{1231     \}}
\DoxyCodeLine{1232 \textcolor{preprocessor}{\#elif defined(RAPIDJSON\_NEON)}}
\DoxyCodeLine{1233     \textcolor{comment}{// StringStream -\/> StackStream<char>}}
\DoxyCodeLine{1234     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} ScanCopyUnescapedString(\mbox{\hyperlink{struct_generic_string_stream}{StringStream}}\& is, StackStream<char>\& os) \{}
\DoxyCodeLine{1235         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* p = is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}};}
\DoxyCodeLine{1236 }
\DoxyCodeLine{1237         \textcolor{comment}{// Scan one by one until alignment (unaligned load may cross page boundary and cause crash)}}
\DoxyCodeLine{1238         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{1239         \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{1240             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)"{}'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(*p) < 0x20)) \{}
\DoxyCodeLine{1241                 is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}} = p;}
\DoxyCodeLine{1242                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1243             \}}
\DoxyCodeLine{1244             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1245                 os.Put(*p++);}
\DoxyCodeLine{1246 }
\DoxyCodeLine{1247         \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{1248         \textcolor{keyword}{const} uint8x16\_t s0 = vmovq\_n\_u8(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{1249         \textcolor{keyword}{const} uint8x16\_t s1 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{1250         \textcolor{keyword}{const} uint8x16\_t s2 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)b'});}
\DoxyCodeLine{1251         \textcolor{keyword}{const} uint8x16\_t s3 = vmovq\_n\_u8(32);}
\DoxyCodeLine{1252 }
\DoxyCodeLine{1253         \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{1254             \textcolor{keyword}{const} uint8x16\_t s = vld1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{1255             uint8x16\_t x = vceqq\_u8(s, s0);}
\DoxyCodeLine{1256             x = vorrq\_u8(x, vceqq\_u8(s, s1));}
\DoxyCodeLine{1257             x = vorrq\_u8(x, vceqq\_u8(s, s2));}
\DoxyCodeLine{1258             x = vorrq\_u8(x, vcltq\_u8(s, s3));}
\DoxyCodeLine{1259 }
\DoxyCodeLine{1260             x = vrev64q\_u8(x);                     \textcolor{comment}{// Rev in 64}}
\DoxyCodeLine{1261             \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} low = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 0);   \textcolor{comment}{// extract}}
\DoxyCodeLine{1262             \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} high = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 1);  \textcolor{comment}{// extract}}
\DoxyCodeLine{1263 }
\DoxyCodeLine{1264             \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} length = 0;}
\DoxyCodeLine{1265             \textcolor{keywordtype}{bool} escaped = \textcolor{keyword}{false};}
\DoxyCodeLine{1266             \textcolor{keywordflow}{if} (low == 0) \{}
\DoxyCodeLine{1267                 \textcolor{keywordflow}{if} (high != 0) \{}
\DoxyCodeLine{1268                     \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(high);}
\DoxyCodeLine{1269                     length = 8 + (lz >> 3);}
\DoxyCodeLine{1270                     escaped = \textcolor{keyword}{true};}
\DoxyCodeLine{1271                 \}}
\DoxyCodeLine{1272             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1273                 \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(low);}
\DoxyCodeLine{1274                 length = lz >> 3;}
\DoxyCodeLine{1275                 escaped = \textcolor{keyword}{true};}
\DoxyCodeLine{1276             \}}
\DoxyCodeLine{1277             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(escaped)) \{   \textcolor{comment}{// some of characters is escaped}}
\DoxyCodeLine{1278                 \textcolor{keywordflow}{if} (length != 0) \{}
\DoxyCodeLine{1279                     \textcolor{keywordtype}{char}* q = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(os.Push(length));}
\DoxyCodeLine{1280                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < length; i++)}
\DoxyCodeLine{1281                         q[i] = p[i];}
\DoxyCodeLine{1282 }
\DoxyCodeLine{1283                     p += length;}
\DoxyCodeLine{1284                 \}}
\DoxyCodeLine{1285                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1286             \}}
\DoxyCodeLine{1287             vst1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(os.Push(16)), s);}
\DoxyCodeLine{1288         \}}
\DoxyCodeLine{1289 }
\DoxyCodeLine{1290         is.\mbox{\hyperlink{struct_generic_string_stream_aeda813798e3f2d6bfdac86afc11b6b80}{src\_}} = p;}
\DoxyCodeLine{1291     \}}
\DoxyCodeLine{1292 }
\DoxyCodeLine{1293     \textcolor{comment}{// InsituStringStream -\/> InsituStringStream}}
\DoxyCodeLine{1294     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} ScanCopyUnescapedString(\mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& is, \mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& os) \{}
\DoxyCodeLine{1295         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(\&is == \&os);}
\DoxyCodeLine{1296         (void)os;}
\DoxyCodeLine{1297 }
\DoxyCodeLine{1298         \textcolor{keywordflow}{if} (is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} == is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}}) \{}
\DoxyCodeLine{1299             SkipUnescapedString(is);}
\DoxyCodeLine{1300             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1301         \}}
\DoxyCodeLine{1302 }
\DoxyCodeLine{1303         \textcolor{keywordtype}{char}* p = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}};}
\DoxyCodeLine{1304         \textcolor{keywordtype}{char} *q = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}};}
\DoxyCodeLine{1305 }
\DoxyCodeLine{1306         \textcolor{comment}{// Scan one by one until alignment (unaligned load may cross page boundary and cause crash)}}
\DoxyCodeLine{1307         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{1308         \textcolor{keywordflow}{while} (p != nextAligned)}
\DoxyCodeLine{1309             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)"{}'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(*p) < 0x20)) \{}
\DoxyCodeLine{1310                 is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = p;}
\DoxyCodeLine{1311                 is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = q;}
\DoxyCodeLine{1312                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1313             \}}
\DoxyCodeLine{1314             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1315                 *q++ = *p++;}
\DoxyCodeLine{1316 }
\DoxyCodeLine{1317         \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{1318         \textcolor{keyword}{const} uint8x16\_t s0 = vmovq\_n\_u8(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{1319         \textcolor{keyword}{const} uint8x16\_t s1 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{1320         \textcolor{keyword}{const} uint8x16\_t s2 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)b'});}
\DoxyCodeLine{1321         \textcolor{keyword}{const} uint8x16\_t s3 = vmovq\_n\_u8(32);}
\DoxyCodeLine{1322 }
\DoxyCodeLine{1323         \textcolor{keywordflow}{for} (;; p += 16, q += 16) \{}
\DoxyCodeLine{1324             \textcolor{keyword}{const} uint8x16\_t s = vld1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{1325             uint8x16\_t x = vceqq\_u8(s, s0);}
\DoxyCodeLine{1326             x = vorrq\_u8(x, vceqq\_u8(s, s1));}
\DoxyCodeLine{1327             x = vorrq\_u8(x, vceqq\_u8(s, s2));}
\DoxyCodeLine{1328             x = vorrq\_u8(x, vcltq\_u8(s, s3));}
\DoxyCodeLine{1329 }
\DoxyCodeLine{1330             x = vrev64q\_u8(x);                     \textcolor{comment}{// Rev in 64}}
\DoxyCodeLine{1331             \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} low = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 0);   \textcolor{comment}{// extract}}
\DoxyCodeLine{1332             \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} high = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 1);  \textcolor{comment}{// extract}}
\DoxyCodeLine{1333 }
\DoxyCodeLine{1334             \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} length = 0;}
\DoxyCodeLine{1335             \textcolor{keywordtype}{bool} escaped = \textcolor{keyword}{false};}
\DoxyCodeLine{1336             \textcolor{keywordflow}{if} (low == 0) \{}
\DoxyCodeLine{1337                 \textcolor{keywordflow}{if} (high != 0) \{}
\DoxyCodeLine{1338                     \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(high);}
\DoxyCodeLine{1339                     length = 8 + (lz >> 3);}
\DoxyCodeLine{1340                     escaped = \textcolor{keyword}{true};}
\DoxyCodeLine{1341                 \}}
\DoxyCodeLine{1342             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1343                 \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(low);}
\DoxyCodeLine{1344                 length = lz >> 3;}
\DoxyCodeLine{1345                 escaped = \textcolor{keyword}{true};}
\DoxyCodeLine{1346             \}}
\DoxyCodeLine{1347             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(escaped)) \{   \textcolor{comment}{// some of characters is escaped}}
\DoxyCodeLine{1348                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{char}* pend = p + length; p != pend; ) \{}
\DoxyCodeLine{1349                     *q++ = *p++;}
\DoxyCodeLine{1350                 \}}
\DoxyCodeLine{1351                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1352             \}}
\DoxyCodeLine{1353             vst1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(q), s);}
\DoxyCodeLine{1354         \}}
\DoxyCodeLine{1355 }
\DoxyCodeLine{1356         is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = p;}
\DoxyCodeLine{1357         is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = q;}
\DoxyCodeLine{1358     \}}
\DoxyCodeLine{1359 }
\DoxyCodeLine{1360     \textcolor{comment}{// When read/write pointers are the same for insitu stream, just skip unescaped characters}}
\DoxyCodeLine{1361     \textcolor{keyword}{static} RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} SkipUnescapedString(\mbox{\hyperlink{struct_generic_insitu_string_stream}{InsituStringStream}}\& is) \{}
\DoxyCodeLine{1362         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} == is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}});}
\DoxyCodeLine{1363         \textcolor{keywordtype}{char}* p = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}};}
\DoxyCodeLine{1364 }
\DoxyCodeLine{1365         \textcolor{comment}{// Scan one by one until alignment (unaligned load may cross page boundary and cause crash)}}
\DoxyCodeLine{1366         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* nextAligned = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}((\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(p) + 15) \& \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\string~15));}
\DoxyCodeLine{1367         \textcolor{keywordflow}{for} (; p != nextAligned; p++)}
\DoxyCodeLine{1368             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)"{}'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(*p == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) || \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(*p) < 0x20)) \{}
\DoxyCodeLine{1369                 is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = p;}
\DoxyCodeLine{1370                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1371             \}}
\DoxyCodeLine{1372 }
\DoxyCodeLine{1373         \textcolor{comment}{// The rest of string using SIMD}}
\DoxyCodeLine{1374         \textcolor{keyword}{const} uint8x16\_t s0 = vmovq\_n\_u8(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{1375         \textcolor{keyword}{const} uint8x16\_t s1 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{1376         \textcolor{keyword}{const} uint8x16\_t s2 = vmovq\_n\_u8(\textcolor{charliteral}{'\(\backslash\)b'});}
\DoxyCodeLine{1377         \textcolor{keyword}{const} uint8x16\_t s3 = vmovq\_n\_u8(32);}
\DoxyCodeLine{1378 }
\DoxyCodeLine{1379         \textcolor{keywordflow}{for} (;; p += 16) \{}
\DoxyCodeLine{1380             \textcolor{keyword}{const} uint8x16\_t s = vld1q\_u8(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}} *\textcolor{keyword}{>}(p));}
\DoxyCodeLine{1381             uint8x16\_t x = vceqq\_u8(s, s0);}
\DoxyCodeLine{1382             x = vorrq\_u8(x, vceqq\_u8(s, s1));}
\DoxyCodeLine{1383             x = vorrq\_u8(x, vceqq\_u8(s, s2));}
\DoxyCodeLine{1384             x = vorrq\_u8(x, vcltq\_u8(s, s3));}
\DoxyCodeLine{1385 }
\DoxyCodeLine{1386             x = vrev64q\_u8(x);                     \textcolor{comment}{// Rev in 64}}
\DoxyCodeLine{1387             \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} low = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 0);   \textcolor{comment}{// extract}}
\DoxyCodeLine{1388             \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} high = vgetq\_lane\_u64(vreinterpretq\_u64\_u8(x), 1);  \textcolor{comment}{// extract}}
\DoxyCodeLine{1389 }
\DoxyCodeLine{1390             \textcolor{keywordflow}{if} (low == 0) \{}
\DoxyCodeLine{1391                 \textcolor{keywordflow}{if} (high != 0) \{}
\DoxyCodeLine{1392                     \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(high);}
\DoxyCodeLine{1393                     p += 8 + (lz >> 3);}
\DoxyCodeLine{1394                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{1395                 \}}
\DoxyCodeLine{1396             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1397                 \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}} lz = \mbox{\hyperlink{namespaceinternal_af72bbb0200bf0166f728c7afde826286}{internal::clzll}}(low);}
\DoxyCodeLine{1398                 p += lz >> 3;}
\DoxyCodeLine{1399                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1400             \}}
\DoxyCodeLine{1401         \}}
\DoxyCodeLine{1402 }
\DoxyCodeLine{1403         is.\mbox{\hyperlink{struct_generic_insitu_string_stream_af3cc551dd07fcca39db84459f4d4e718}{src\_}} = is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ab0e7a73638a7a8db81aa9b26714b0e3b}{dst\_}} = p;}
\DoxyCodeLine{1404     \}}
\DoxyCodeLine{1405 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// RAPIDJSON\_NEON}}
\DoxyCodeLine{1406 }
\DoxyCodeLine{1407     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} StackCharacter, \textcolor{keywordtype}{bool} backup, \textcolor{keywordtype}{bool} pushOnTake>}
\DoxyCodeLine{1408     \textcolor{keyword}{class }NumberStream;}
\DoxyCodeLine{1409 }
\DoxyCodeLine{1410     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} StackCharacter>}
\DoxyCodeLine{1411     \textcolor{keyword}{class }NumberStream<InputStream, StackCharacter, false, false> \{}
\DoxyCodeLine{1412     \textcolor{keyword}{public}:}
\DoxyCodeLine{1413         \textcolor{keyword}{typedef} \textcolor{keyword}{typename} InputStream::Ch \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}};}
\DoxyCodeLine{1414 }
\DoxyCodeLine{1415         NumberStream(\mbox{\hyperlink{class_generic_reader}{GenericReader}}\& reader, InputStream\& s) : is(s) \{ (void)reader;  \}}
\DoxyCodeLine{1416 }
\DoxyCodeLine{1417         RAPIDJSON\_FORCEINLINE \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} Peek()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} is.\mbox{\hyperlink{struct_generic_insitu_string_stream_ae21ba3ff4595ccd5caa4a9858e793f3f}{Peek}}(); \}}
\DoxyCodeLine{1418         RAPIDJSON\_FORCEINLINE \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} TakePush() \{ \textcolor{keywordflow}{return} is.\mbox{\hyperlink{struct_generic_insitu_string_stream_afde4e46663225e4c32cfdbcd261f321e}{Take}}(); \}}
\DoxyCodeLine{1419         RAPIDJSON\_FORCEINLINE \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} Take() \{ \textcolor{keywordflow}{return} is.\mbox{\hyperlink{struct_generic_insitu_string_stream_afde4e46663225e4c32cfdbcd261f321e}{Take}}(); \}}
\DoxyCodeLine{1420         RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} Push(\textcolor{keywordtype}{char}) \{\}}
\DoxyCodeLine{1421 }
\DoxyCodeLine{1422         \textcolor{keywordtype}{size\_t} Tell() \{ \textcolor{keywordflow}{return} is.\mbox{\hyperlink{struct_generic_insitu_string_stream_aa9a84abb24e8c93b683a2e7bfea309db}{Tell}}(); \}}
\DoxyCodeLine{1423         \textcolor{keywordtype}{size\_t} Length() \{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{1424         \textcolor{keyword}{const} StackCharacter* Pop() \{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{1425 }
\DoxyCodeLine{1426     \textcolor{keyword}{protected}:}
\DoxyCodeLine{1427         NumberStream\& operator=(\textcolor{keyword}{const} NumberStream\&);}
\DoxyCodeLine{1428 }
\DoxyCodeLine{1429         InputStream\& is;}
\DoxyCodeLine{1430     \};}
\DoxyCodeLine{1431 }
\DoxyCodeLine{1432     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} StackCharacter>}
\DoxyCodeLine{1433     \textcolor{keyword}{class }NumberStream<InputStream, StackCharacter, true, false> : \textcolor{keyword}{public} NumberStream<InputStream, StackCharacter, false, false> \{}
\DoxyCodeLine{1434         \textcolor{keyword}{typedef} NumberStream<InputStream, StackCharacter, false, false> Base;}
\DoxyCodeLine{1435     \textcolor{keyword}{public}:}
\DoxyCodeLine{1436         NumberStream(\mbox{\hyperlink{class_generic_reader}{GenericReader}}\& reader, InputStream\& is) : Base(reader, is), stackStream(reader.stack\_) \{\}}
\DoxyCodeLine{1437 }
\DoxyCodeLine{1438         RAPIDJSON\_FORCEINLINE \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} TakePush() \{}
\DoxyCodeLine{1439             stackStream.Put(\textcolor{keyword}{static\_cast<}StackCharacter\textcolor{keyword}{>}(Base::is.Peek()));}
\DoxyCodeLine{1440             \textcolor{keywordflow}{return} Base::is.Take();}
\DoxyCodeLine{1441         \}}
\DoxyCodeLine{1442 }
\DoxyCodeLine{1443         RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{void} Push(StackCharacter c) \{}
\DoxyCodeLine{1444             stackStream.Put(c);}
\DoxyCodeLine{1445         \}}
\DoxyCodeLine{1446 }
\DoxyCodeLine{1447         \textcolor{keywordtype}{size\_t} Length() \{ \textcolor{keywordflow}{return} stackStream.Length(); \}}
\DoxyCodeLine{1448 }
\DoxyCodeLine{1449         \textcolor{keyword}{const} StackCharacter* Pop() \{}
\DoxyCodeLine{1450             stackStream.Put(\textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{1451             \textcolor{keywordflow}{return} stackStream.Pop();}
\DoxyCodeLine{1452         \}}
\DoxyCodeLine{1453 }
\DoxyCodeLine{1454     \textcolor{keyword}{private}:}
\DoxyCodeLine{1455         StackStream<StackCharacter> stackStream;}
\DoxyCodeLine{1456     \};}
\DoxyCodeLine{1457 }
\DoxyCodeLine{1458     \textcolor{keyword}{template}<\textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} StackCharacter>}
\DoxyCodeLine{1459     \textcolor{keyword}{class }NumberStream<InputStream, StackCharacter, true, true> : \textcolor{keyword}{public} NumberStream<InputStream, StackCharacter, true, false> \{}
\DoxyCodeLine{1460         \textcolor{keyword}{typedef} NumberStream<InputStream, StackCharacter, true, false> Base;}
\DoxyCodeLine{1461     \textcolor{keyword}{public}:}
\DoxyCodeLine{1462         NumberStream(\mbox{\hyperlink{class_generic_reader}{GenericReader}}\& reader, InputStream\& is) : Base(reader, is) \{\}}
\DoxyCodeLine{1463 }
\DoxyCodeLine{1464         RAPIDJSON\_FORCEINLINE \mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} Take() \{ \textcolor{keywordflow}{return} Base::TakePush(); \}}
\DoxyCodeLine{1465     \};}
\DoxyCodeLine{1466 }
\DoxyCodeLine{1467     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{1468     \textcolor{keywordtype}{void} ParseNumber(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{1469         \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::SelectIf<internal::BoolType<(parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aa951ab03a51b32b60164436bc280cf01}{kParseNumbersAsStringsFlag}}) != 0>, \textcolor{keyword}{typename} TargetEncoding::Ch, \textcolor{keywordtype}{char}>\mbox{\hyperlink{rapidjson_8h_a1d1cfd8ffb84e947f82999c682b666a7}{::Type}} NumberCharacter;}
\DoxyCodeLine{1470 }
\DoxyCodeLine{1471         \mbox{\hyperlink{classinternal_1_1_stream_local_copy}{internal::StreamLocalCopy<InputStream>}} copy(is);}
\DoxyCodeLine{1472         NumberStream<InputStream, NumberCharacter,}
\DoxyCodeLine{1473             ((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aa951ab03a51b32b60164436bc280cf01}{kParseNumbersAsStringsFlag}}) != 0) ?}
\DoxyCodeLine{1474                 ((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a13188bd483b4df0b6582bebe2aeb5b01}{kParseInsituFlag}}) == 0) :}
\DoxyCodeLine{1475                 ((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a057fbeacafb16bb7d24c9998262cae46}{kParseFullPrecisionFlag}}) != 0),}
\DoxyCodeLine{1476             (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aa951ab03a51b32b60164436bc280cf01}{kParseNumbersAsStringsFlag}}) != 0 \&\&}
\DoxyCodeLine{1477                 (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a13188bd483b4df0b6582bebe2aeb5b01}{kParseInsituFlag}}) == 0> s(*\textcolor{keyword}{this}, copy.s);}
\DoxyCodeLine{1478 }
\DoxyCodeLine{1479         \textcolor{keywordtype}{size\_t} startOffset = s.Tell();}
\DoxyCodeLine{1480         \textcolor{keywordtype}{double} d = 0.0;}
\DoxyCodeLine{1481         \textcolor{keywordtype}{bool} useNanOrInf = \textcolor{keyword}{false};}
\DoxyCodeLine{1482 }
\DoxyCodeLine{1483         \textcolor{comment}{// Parse minus}}
\DoxyCodeLine{1484         \textcolor{keywordtype}{bool} minus = Consume(s, \textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{1485 }
\DoxyCodeLine{1486         \textcolor{comment}{// Parse int: zero / ( digit1-\/9 *DIGIT )}}
\DoxyCodeLine{1487         \textcolor{keywordtype}{unsigned} i = 0;}
\DoxyCodeLine{1488         \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}} i64 = 0;}
\DoxyCodeLine{1489         \textcolor{keywordtype}{bool} use64bit = \textcolor{keyword}{false};}
\DoxyCodeLine{1490         \textcolor{keywordtype}{int} significandDigit = 0;}
\DoxyCodeLine{1491         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(s.Peek() == \textcolor{charliteral}{'0'})) \{}
\DoxyCodeLine{1492             i = 0;}
\DoxyCodeLine{1493             s.TakePush();}
\DoxyCodeLine{1494         \}}
\DoxyCodeLine{1495         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'1'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1496             i = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1497 }
\DoxyCodeLine{1498             \textcolor{keywordflow}{if} (minus)}
\DoxyCodeLine{1499                 \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1500                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(i >= 214748364)) \{ \textcolor{comment}{// 2\string^31 = 2147483648}}
\DoxyCodeLine{1501                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(i != 214748364 || s.Peek() > \textcolor{charliteral}{'8'})) \{}
\DoxyCodeLine{1502                             i64 = i;}
\DoxyCodeLine{1503                             use64bit = \textcolor{keyword}{true};}
\DoxyCodeLine{1504                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1505                         \}}
\DoxyCodeLine{1506                     \}}
\DoxyCodeLine{1507                     i = i * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1508                     significandDigit++;}
\DoxyCodeLine{1509                 \}}
\DoxyCodeLine{1510             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1511                 \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1512                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(i >= 429496729)) \{ \textcolor{comment}{// 2\string^32 -\/ 1 = 4294967295}}
\DoxyCodeLine{1513                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(i != 429496729 || s.Peek() > \textcolor{charliteral}{'5'})) \{}
\DoxyCodeLine{1514                             i64 = i;}
\DoxyCodeLine{1515                             use64bit = \textcolor{keyword}{true};}
\DoxyCodeLine{1516                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1517                         \}}
\DoxyCodeLine{1518                     \}}
\DoxyCodeLine{1519                     i = i * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1520                     significandDigit++;}
\DoxyCodeLine{1521                 \}}
\DoxyCodeLine{1522         \}}
\DoxyCodeLine{1523         \textcolor{comment}{// Parse NaN or Infinity here}}
\DoxyCodeLine{1524         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a9849d65c1d3edd796bd75897c6a37eb6}{kParseNanAndInfFlag}}) \&\& \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}((s.Peek() == \textcolor{charliteral}{'I'} || s.Peek() == \textcolor{charliteral}{'N'}))) \{}
\DoxyCodeLine{1525             \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'N'})) \{}
\DoxyCodeLine{1526                 \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'a'}) \&\& Consume(s, \textcolor{charliteral}{'N'})) \{}
\DoxyCodeLine{1527                     d = std::numeric\_limits<double>::quiet\_NaN();}
\DoxyCodeLine{1528                     useNanOrInf = \textcolor{keyword}{true};}
\DoxyCodeLine{1529                 \}}
\DoxyCodeLine{1530             \}}
\DoxyCodeLine{1531             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(Consume(s, \textcolor{charliteral}{'I'}))) \{}
\DoxyCodeLine{1532                 \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'n'}) \&\& Consume(s, \textcolor{charliteral}{'f'})) \{}
\DoxyCodeLine{1533                     d = (minus ? -\/std::numeric\_limits<double>::infinity() : std::numeric\_limits<double>::infinity());}
\DoxyCodeLine{1534                     useNanOrInf = \textcolor{keyword}{true};}
\DoxyCodeLine{1535 }
\DoxyCodeLine{1536                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(s.Peek() == \textcolor{charliteral}{'i'} \&\& !(Consume(s, \textcolor{charliteral}{'i'}) \&\& Consume(s, \textcolor{charliteral}{'n'})}
\DoxyCodeLine{1537                                                                 \&\& Consume(s, \textcolor{charliteral}{'i'}) \&\& Consume(s, \textcolor{charliteral}{'t'}) \&\& Consume(s, \textcolor{charliteral}{'y'})))) \{}
\DoxyCodeLine{1538                         \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, s.Tell());}
\DoxyCodeLine{1539                     \}}
\DoxyCodeLine{1540                 \}}
\DoxyCodeLine{1541             \}}
\DoxyCodeLine{1542 }
\DoxyCodeLine{1543             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!useNanOrInf)) \{}
\DoxyCodeLine{1544                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, s.Tell());}
\DoxyCodeLine{1545             \}}
\DoxyCodeLine{1546         \}}
\DoxyCodeLine{1547         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1548             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, s.Tell());}
\DoxyCodeLine{1549 }
\DoxyCodeLine{1550         \textcolor{comment}{// Parse 64bit int}}
\DoxyCodeLine{1551         \textcolor{keywordtype}{bool} useDouble = \textcolor{keyword}{false};}
\DoxyCodeLine{1552         \textcolor{keywordflow}{if} (use64bit) \{}
\DoxyCodeLine{1553             \textcolor{keywordflow}{if} (minus)}
\DoxyCodeLine{1554                 \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1555                      \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(i64 >= \mbox{\hyperlink{rapidjson_8h_aaee1245f375a71be1ac9b8a07ba5fb8f}{RAPIDJSON\_UINT64\_C2}}(0x0CCCCCCC, 0xCCCCCCCC))) \textcolor{comment}{// 2\string^63 = 9223372036854775808}}
\DoxyCodeLine{1556                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(i64 != \mbox{\hyperlink{rapidjson_8h_aaee1245f375a71be1ac9b8a07ba5fb8f}{RAPIDJSON\_UINT64\_C2}}(0x0CCCCCCC, 0xCCCCCCCC) || s.Peek() > \textcolor{charliteral}{'8'})) \{}
\DoxyCodeLine{1557                             d = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(i64);}
\DoxyCodeLine{1558                             useDouble = \textcolor{keyword}{true};}
\DoxyCodeLine{1559                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1560                         \}}
\DoxyCodeLine{1561                     i64 = i64 * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1562                     significandDigit++;}
\DoxyCodeLine{1563                 \}}
\DoxyCodeLine{1564             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1565                 \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1566                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(i64 >= \mbox{\hyperlink{rapidjson_8h_aaee1245f375a71be1ac9b8a07ba5fb8f}{RAPIDJSON\_UINT64\_C2}}(0x19999999, 0x99999999))) \textcolor{comment}{// 2\string^64 -\/ 1 = 18446744073709551615}}
\DoxyCodeLine{1567                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(i64 != \mbox{\hyperlink{rapidjson_8h_aaee1245f375a71be1ac9b8a07ba5fb8f}{RAPIDJSON\_UINT64\_C2}}(0x19999999, 0x99999999) || s.Peek() > \textcolor{charliteral}{'5'})) \{}
\DoxyCodeLine{1568                             d = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(i64);}
\DoxyCodeLine{1569                             useDouble = \textcolor{keyword}{true};}
\DoxyCodeLine{1570                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1571                         \}}
\DoxyCodeLine{1572                     i64 = i64 * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1573                     significandDigit++;}
\DoxyCodeLine{1574                 \}}
\DoxyCodeLine{1575         \}}
\DoxyCodeLine{1576 }
\DoxyCodeLine{1577         \textcolor{comment}{// Force double for big integer}}
\DoxyCodeLine{1578         \textcolor{keywordflow}{if} (useDouble) \{}
\DoxyCodeLine{1579             \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1580                 d = d * 10 + (s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1581             \}}
\DoxyCodeLine{1582         \}}
\DoxyCodeLine{1583 }
\DoxyCodeLine{1584         \textcolor{comment}{// Parse frac = decimal-\/point 1*DIGIT}}
\DoxyCodeLine{1585         \textcolor{keywordtype}{int} expFrac = 0;}
\DoxyCodeLine{1586         \textcolor{keywordtype}{size\_t} decimalPosition;}
\DoxyCodeLine{1587         \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'.'})) \{}
\DoxyCodeLine{1588             decimalPosition = s.Length();}
\DoxyCodeLine{1589 }
\DoxyCodeLine{1590             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})))}
\DoxyCodeLine{1591                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a08a2cc2b4cacfba1673ed536eee229ce}{kParseErrorNumberMissFraction}}, s.Tell());}
\DoxyCodeLine{1592 }
\DoxyCodeLine{1593             \textcolor{keywordflow}{if} (!useDouble) \{}
\DoxyCodeLine{1594 \textcolor{preprocessor}{\#if RAPIDJSON\_64BIT}}
\DoxyCodeLine{1595                 \textcolor{comment}{// Use i64 to store significand in 64-\/bit architecture}}
\DoxyCodeLine{1596                 \textcolor{keywordflow}{if} (!use64bit)}
\DoxyCodeLine{1597                     i64 = i;}
\DoxyCodeLine{1598 }
\DoxyCodeLine{1599                 \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1600                     \textcolor{keywordflow}{if} (i64 > \mbox{\hyperlink{rapidjson_8h_aaee1245f375a71be1ac9b8a07ba5fb8f}{RAPIDJSON\_UINT64\_C2}}(0x1FFFFF, 0xFFFFFFFF)) \textcolor{comment}{// 2\string^53 -\/ 1 for fast path}}
\DoxyCodeLine{1601                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1602                     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1603                         i64 = i64 * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1604                         -\/-\/expFrac;}
\DoxyCodeLine{1605                         \textcolor{keywordflow}{if} (i64 != 0)}
\DoxyCodeLine{1606                             significandDigit++;}
\DoxyCodeLine{1607                     \}}
\DoxyCodeLine{1608                 \}}
\DoxyCodeLine{1609 }
\DoxyCodeLine{1610                 d = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(i64);}
\DoxyCodeLine{1611 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1612                 \textcolor{comment}{// Use double to store significand in 32-\/bit architecture}}
\DoxyCodeLine{1613                 d = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(use64bit ? i64 : i);}
\DoxyCodeLine{1614 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1615                 useDouble = \textcolor{keyword}{true};}
\DoxyCodeLine{1616             \}}
\DoxyCodeLine{1617 }
\DoxyCodeLine{1618             \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1619                 \textcolor{keywordflow}{if} (significandDigit < 17) \{}
\DoxyCodeLine{1620                     d = d * 10.0 + (s.TakePush() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1621                     -\/-\/expFrac;}
\DoxyCodeLine{1622                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(d > 0.0))}
\DoxyCodeLine{1623                         significandDigit++;}
\DoxyCodeLine{1624                 \}}
\DoxyCodeLine{1625                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1626                     s.TakePush();}
\DoxyCodeLine{1627             \}}
\DoxyCodeLine{1628         \}}
\DoxyCodeLine{1629         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1630             decimalPosition = s.Length(); \textcolor{comment}{// decimal position at the end of integer.}}
\DoxyCodeLine{1631 }
\DoxyCodeLine{1632         \textcolor{comment}{// Parse exp = e [ minus / plus ] 1*DIGIT}}
\DoxyCodeLine{1633         \textcolor{keywordtype}{int} exp = 0;}
\DoxyCodeLine{1634         \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'e'}) || Consume(s, \textcolor{charliteral}{'E'})) \{}
\DoxyCodeLine{1635             \textcolor{keywordflow}{if} (!useDouble) \{}
\DoxyCodeLine{1636                 d = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(use64bit ? i64 : i);}
\DoxyCodeLine{1637                 useDouble = \textcolor{keyword}{true};}
\DoxyCodeLine{1638             \}}
\DoxyCodeLine{1639 }
\DoxyCodeLine{1640             \textcolor{keywordtype}{bool} expMinus = \textcolor{keyword}{false};}
\DoxyCodeLine{1641             \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'+'}))}
\DoxyCodeLine{1642                 ;}
\DoxyCodeLine{1643             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Consume(s, \textcolor{charliteral}{'-\/'}))}
\DoxyCodeLine{1644                 expMinus = \textcolor{keyword}{true};}
\DoxyCodeLine{1645 }
\DoxyCodeLine{1646             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1647                 exp = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(s.Take() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1648                 \textcolor{keywordflow}{if} (expMinus) \{}
\DoxyCodeLine{1649                     \textcolor{comment}{// (exp + expFrac) must not underflow int => we're detecting when -\/exp gets}}
\DoxyCodeLine{1650                     \textcolor{comment}{// dangerously close to INT\_MIN (a pessimistic next digit 9 would push it into}}
\DoxyCodeLine{1651                     \textcolor{comment}{// underflow territory):}}
\DoxyCodeLine{1652                     \textcolor{comment}{//}}
\DoxyCodeLine{1653                     \textcolor{comment}{//        -\/(exp * 10 + 9) + expFrac >= INT\_MIN}}
\DoxyCodeLine{1654                     \textcolor{comment}{//   <=>  exp <= (expFrac -\/ INT\_MIN -\/ 9) / 10}}
\DoxyCodeLine{1655                     \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(expFrac <= 0);}
\DoxyCodeLine{1656                     \textcolor{keywordtype}{int} maxExp = (expFrac + 2147483639) / 10;}
\DoxyCodeLine{1657 }
\DoxyCodeLine{1658                     \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1659                         exp = exp * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(s.Take() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1660                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(exp > maxExp)) \{}
\DoxyCodeLine{1661                             \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'}))  \textcolor{comment}{// Consume the rest of exponent}}
\DoxyCodeLine{1662                                 s.Take();}
\DoxyCodeLine{1663                         \}}
\DoxyCodeLine{1664                     \}}
\DoxyCodeLine{1665                 \}}
\DoxyCodeLine{1666                 \textcolor{keywordflow}{else} \{  \textcolor{comment}{// positive exp}}
\DoxyCodeLine{1667                     \textcolor{keywordtype}{int} maxExp = 308 -\/ expFrac;}
\DoxyCodeLine{1668                     \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga5dc14176a9e71ace282404b0bcda57a1}{RAPIDJSON\_LIKELY}}(s.Peek() >= \textcolor{charliteral}{'0'} \&\& s.Peek() <= \textcolor{charliteral}{'9'})) \{}
\DoxyCodeLine{1669                         exp = exp * 10 + \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(s.Take() -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1670                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(exp > maxExp))}
\DoxyCodeLine{1671                             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ae52aaa70fde46e4cc422420309700b82}{kParseErrorNumberTooBig}}, startOffset);}
\DoxyCodeLine{1672                     \}}
\DoxyCodeLine{1673                 \}}
\DoxyCodeLine{1674             \}}
\DoxyCodeLine{1675             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1676                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a82cdbd740e22b819a70d05e585c2a442}{kParseErrorNumberMissExponent}}, s.Tell());}
\DoxyCodeLine{1677 }
\DoxyCodeLine{1678             \textcolor{keywordflow}{if} (expMinus)}
\DoxyCodeLine{1679                 exp = -\/exp;}
\DoxyCodeLine{1680         \}}
\DoxyCodeLine{1681 }
\DoxyCodeLine{1682         \textcolor{comment}{// Finish parsing, call event according to the type of number.}}
\DoxyCodeLine{1683         \textcolor{keywordtype}{bool} cont = \textcolor{keyword}{true};}
\DoxyCodeLine{1684 }
\DoxyCodeLine{1685         \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450aa951ab03a51b32b60164436bc280cf01}{kParseNumbersAsStringsFlag}}) \{}
\DoxyCodeLine{1686             \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a13188bd483b4df0b6582bebe2aeb5b01}{kParseInsituFlag}}) \{}
\DoxyCodeLine{1687                 s.Pop();  \textcolor{comment}{// Pop stack no matter if it will be used or not.}}
\DoxyCodeLine{1688                 \textcolor{keyword}{typename} InputStream::Ch* head = is.PutBegin();}
\DoxyCodeLine{1689                 \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} length = s.Tell() -\/ startOffset;}
\DoxyCodeLine{1690                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(length <= 0xFFFFFFFF);}
\DoxyCodeLine{1691                 \textcolor{comment}{// unable to insert the \(\backslash\)0 character here, it will erase the comma after this number}}
\DoxyCodeLine{1692                 \textcolor{keyword}{const} \textcolor{keyword}{typename} TargetEncoding::Ch* \textcolor{keyword}{const} str = \textcolor{keyword}{reinterpret\_cast<}typename TargetEncoding::Ch*\textcolor{keyword}{>}(head);}
\DoxyCodeLine{1693                 cont = handler.RawNumber(str, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}(length), \textcolor{keyword}{false});}
\DoxyCodeLine{1694             \}}
\DoxyCodeLine{1695             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1696                 \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} numCharsToCopy = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\textcolor{keyword}{>}(s.Length());}
\DoxyCodeLine{1697                 \mbox{\hyperlink{struct_generic_string_stream}{GenericStringStream<UTF8<NumberCharacter>}} > srcStream(s.Pop());}
\DoxyCodeLine{1698                 StackStream<typename TargetEncoding::Ch> dstStream(stack\_);}
\DoxyCodeLine{1699                 \textcolor{keywordflow}{while} (numCharsToCopy-\/-\/) \{}
\DoxyCodeLine{1700                     \mbox{\hyperlink{struct_transcoder}{Transcoder<UTF8<typename TargetEncoding::Ch>}}, TargetEncoding>::Transcode(srcStream, dstStream);}
\DoxyCodeLine{1701                 \}}
\DoxyCodeLine{1702                 dstStream.Put(\textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{1703                 \textcolor{keyword}{const} \textcolor{keyword}{typename} TargetEncoding::Ch* str = dstStream.Pop();}
\DoxyCodeLine{1704                 \textcolor{keyword}{const} \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} length = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\textcolor{keyword}{>}(dstStream.Length()) -\/ 1;}
\DoxyCodeLine{1705                 cont = handler.RawNumber(str, \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}(length), \textcolor{keyword}{true});}
\DoxyCodeLine{1706             \}}
\DoxyCodeLine{1707         \}}
\DoxyCodeLine{1708         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1709            \textcolor{keywordtype}{size\_t} length = s.Length();}
\DoxyCodeLine{1710            \textcolor{keyword}{const} NumberCharacter* decimal = s.Pop();  \textcolor{comment}{// Pop stack no matter if it will be used or not.}}
\DoxyCodeLine{1711 }
\DoxyCodeLine{1712            \textcolor{keywordflow}{if} (useDouble) \{}
\DoxyCodeLine{1713                \textcolor{keywordtype}{int} p = exp + expFrac;}
\DoxyCodeLine{1714                \textcolor{keywordflow}{if} (parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a057fbeacafb16bb7d24c9998262cae46}{kParseFullPrecisionFlag}})}
\DoxyCodeLine{1715                    d = \mbox{\hyperlink{namespaceinternal_a6109c750ee4707d4f71de280816a1a00}{internal::StrtodFullPrecision}}(d, p, decimal, length, decimalPosition, exp);}
\DoxyCodeLine{1716                \textcolor{keywordflow}{else}}
\DoxyCodeLine{1717                    d = \mbox{\hyperlink{namespaceinternal_a9e5fac4695310f09892fe52b1d24ab19}{internal::StrtodNormalPrecision}}(d, p);}
\DoxyCodeLine{1718 }
\DoxyCodeLine{1719                \textcolor{comment}{// Use > max, instead of == inf, to fix bogus warning -\/Wfloat-\/equal}}
\DoxyCodeLine{1720                \textcolor{keywordflow}{if} (d > (std::numeric\_limits<double>::max)()) \{}
\DoxyCodeLine{1721                    \textcolor{comment}{// Overflow}}
\DoxyCodeLine{1722                    \textcolor{comment}{// TODO: internal::StrtodX should report overflow (or underflow)}}
\DoxyCodeLine{1723                    \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ae52aaa70fde46e4cc422420309700b82}{kParseErrorNumberTooBig}}, startOffset);}
\DoxyCodeLine{1724                \}}
\DoxyCodeLine{1725 }
\DoxyCodeLine{1726                cont = handler.Double(minus ? -\/d : d);}
\DoxyCodeLine{1727            \}}
\DoxyCodeLine{1728            \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (useNanOrInf) \{}
\DoxyCodeLine{1729                cont = handler.Double(d);}
\DoxyCodeLine{1730            \}}
\DoxyCodeLine{1731            \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1732                \textcolor{keywordflow}{if} (use64bit) \{}
\DoxyCodeLine{1733                    \textcolor{keywordflow}{if} (minus)}
\DoxyCodeLine{1734                        cont = handler.Int64(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}\textcolor{keyword}{>}(\string~i64 + 1));}
\DoxyCodeLine{1735                    \textcolor{keywordflow}{else}}
\DoxyCodeLine{1736                        cont = handler.Uint64(i64);}
\DoxyCodeLine{1737                \}}
\DoxyCodeLine{1738                \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1739                    \textcolor{keywordflow}{if} (minus)}
\DoxyCodeLine{1740                        cont = handler.Int(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\_t}}\textcolor{keyword}{>}(\string~i + 1));}
\DoxyCodeLine{1741                    \textcolor{keywordflow}{else}}
\DoxyCodeLine{1742                        cont = handler.Uint(i);}
\DoxyCodeLine{1743                \}}
\DoxyCodeLine{1744            \}}
\DoxyCodeLine{1745         \}}
\DoxyCodeLine{1746         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_ga6a2b1695c13e77ae425e3cbac980ccb5}{RAPIDJSON\_UNLIKELY}}(!cont))}
\DoxyCodeLine{1747             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, startOffset);}
\DoxyCodeLine{1748     \}}
\DoxyCodeLine{1749 }
\DoxyCodeLine{1750     \textcolor{comment}{// Parse any JSON value}}
\DoxyCodeLine{1751     \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{1752     \textcolor{keywordtype}{void} ParseValue(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{1753         \textcolor{keywordflow}{switch} (is.Peek()) \{}
\DoxyCodeLine{1754             \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}: ParseNull  <parseFlags>(is, handler); \textcolor{keywordflow}{break};}
\DoxyCodeLine{1755             \textcolor{keywordflow}{case} \textcolor{charliteral}{'t'}: ParseTrue  <parseFlags>(is, handler); \textcolor{keywordflow}{break};}
\DoxyCodeLine{1756             \textcolor{keywordflow}{case} \textcolor{charliteral}{'f'}: ParseFalse <parseFlags>(is, handler); \textcolor{keywordflow}{break};}
\DoxyCodeLine{1757             \textcolor{keywordflow}{case} \textcolor{charliteral}{'"{}'}: ParseString<parseFlags>(is, handler); \textcolor{keywordflow}{break};}
\DoxyCodeLine{1758             \textcolor{keywordflow}{case} \textcolor{charliteral}{'\{'}: ParseObject<parseFlags>(is, handler); \textcolor{keywordflow}{break};}
\DoxyCodeLine{1759             \textcolor{keywordflow}{case} \textcolor{charliteral}{'['}: ParseArray <parseFlags>(is, handler); \textcolor{keywordflow}{break};}
\DoxyCodeLine{1760             default :}
\DoxyCodeLine{1761                       ParseNumber<parseFlags>(is, handler);}
\DoxyCodeLine{1762                       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1763 }
\DoxyCodeLine{1764         \}}
\DoxyCodeLine{1765     \}}
\DoxyCodeLine{1766 }
\DoxyCodeLine{1767     \textcolor{comment}{// Iterative Parsing}}
\DoxyCodeLine{1768 }
\DoxyCodeLine{1769     \textcolor{comment}{// States}}
\DoxyCodeLine{1770     \textcolor{keyword}{enum} IterativeParsingState \{}
\DoxyCodeLine{1771         IterativeParsingFinishState = 0, \textcolor{comment}{// sink states at top}}
\DoxyCodeLine{1772         IterativeParsingErrorState,      \textcolor{comment}{// sink states at top}}
\DoxyCodeLine{1773         IterativeParsingStartState,}
\DoxyCodeLine{1774 }
\DoxyCodeLine{1775         \textcolor{comment}{// Object states}}
\DoxyCodeLine{1776         IterativeParsingObjectInitialState,}
\DoxyCodeLine{1777         IterativeParsingMemberKeyState,}
\DoxyCodeLine{1778         IterativeParsingMemberValueState,}
\DoxyCodeLine{1779         IterativeParsingObjectFinishState,}
\DoxyCodeLine{1780 }
\DoxyCodeLine{1781         \textcolor{comment}{// Array states}}
\DoxyCodeLine{1782         IterativeParsingArrayInitialState,}
\DoxyCodeLine{1783         IterativeParsingElementState,}
\DoxyCodeLine{1784         IterativeParsingArrayFinishState,}
\DoxyCodeLine{1785 }
\DoxyCodeLine{1786         \textcolor{comment}{// Single value state}}
\DoxyCodeLine{1787         IterativeParsingValueState,}
\DoxyCodeLine{1788 }
\DoxyCodeLine{1789         \textcolor{comment}{// Delimiter states (at bottom)}}
\DoxyCodeLine{1790         IterativeParsingElementDelimiterState,}
\DoxyCodeLine{1791         IterativeParsingMemberDelimiterState,}
\DoxyCodeLine{1792         IterativeParsingKeyValueDelimiterState,}
\DoxyCodeLine{1793 }
\DoxyCodeLine{1794         cIterativeParsingStateCount}
\DoxyCodeLine{1795     \};}
\DoxyCodeLine{1796 }
\DoxyCodeLine{1797     \textcolor{comment}{// Tokens}}
\DoxyCodeLine{1798     \textcolor{keyword}{enum} Token \{}
\DoxyCodeLine{1799         LeftBracketToken = 0,}
\DoxyCodeLine{1800         RightBracketToken,}
\DoxyCodeLine{1801 }
\DoxyCodeLine{1802         LeftCurlyBracketToken,}
\DoxyCodeLine{1803         RightCurlyBracketToken,}
\DoxyCodeLine{1804 }
\DoxyCodeLine{1805         CommaToken,}
\DoxyCodeLine{1806         ColonToken,}
\DoxyCodeLine{1807 }
\DoxyCodeLine{1808         StringToken,}
\DoxyCodeLine{1809         FalseToken,}
\DoxyCodeLine{1810         TrueToken,}
\DoxyCodeLine{1811         NullToken,}
\DoxyCodeLine{1812         NumberToken,}
\DoxyCodeLine{1813 }
\DoxyCodeLine{1814         kTokenCount}
\DoxyCodeLine{1815     \};}
\DoxyCodeLine{1816 }
\DoxyCodeLine{1817     RAPIDJSON\_FORCEINLINE Token Tokenize(\mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}} c)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1818 }
\DoxyCodeLine{1820 \textcolor{preprocessor}{\#define N NumberToken}}
\DoxyCodeLine{1821 \textcolor{preprocessor}{\#define N16 N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N}}
\DoxyCodeLine{1822         \textcolor{comment}{// Maps from ASCII to Token}}
\DoxyCodeLine{1823         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} tokenMap[256] = \{}
\DoxyCodeLine{1824             N16, \textcolor{comment}{// 00\string~0F}}
\DoxyCodeLine{1825             N16, \textcolor{comment}{// 10\string~1F}}
\DoxyCodeLine{1826             N, N, StringToken, N, N, N, N, N, N, N, N, N, CommaToken, N, N, N, \textcolor{comment}{// 20\string~2F}}
\DoxyCodeLine{1827             N, N, N, N, N, N, N, N, N, N, ColonToken, N, N, N, N, N, \textcolor{comment}{// 30\string~3F}}
\DoxyCodeLine{1828             N16, \textcolor{comment}{// 40\string~4F}}
\DoxyCodeLine{1829             N, N, N, N, N, N, N, N, N, N, N, LeftBracketToken, N, RightBracketToken, N, N, \textcolor{comment}{// 50\string~5F}}
\DoxyCodeLine{1830             N, N, N, N, N, N, FalseToken, N, N, N, N, N, N, N, NullToken, N, \textcolor{comment}{// 60\string~6F}}
\DoxyCodeLine{1831             N, N, N, N, TrueToken, N, N, N, N, N, N, LeftCurlyBracketToken, N, RightCurlyBracketToken, N, N, \textcolor{comment}{// 70\string~7F}}
\DoxyCodeLine{1832             N16, N16, N16, N16, N16, N16, N16, N16 \textcolor{comment}{// 80\string~FF}}
\DoxyCodeLine{1833         \};}
\DoxyCodeLine{1834 \textcolor{preprocessor}{\#undef N}}
\DoxyCodeLine{1835 \textcolor{preprocessor}{\#undef N16}}
\DoxyCodeLine{1837 }
\DoxyCodeLine{1838         \textcolor{keywordflow}{if} (\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_generic_reader_ab39a92bb26d50aee6469df604622218a}{Ch}}) == 1 || \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(c) < 256)}
\DoxyCodeLine{1839             \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}Token\textcolor{keyword}{>}(tokenMap[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(c)]);}
\DoxyCodeLine{1840         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1841             \textcolor{keywordflow}{return} NumberToken;}
\DoxyCodeLine{1842     \}}
\DoxyCodeLine{1843 }
\DoxyCodeLine{1844     RAPIDJSON\_FORCEINLINE IterativeParsingState Predict(IterativeParsingState state, Token token)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1845         \textcolor{comment}{// current state x one lookahead token -\/> new state}}
\DoxyCodeLine{1846         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} G[cIterativeParsingStateCount][kTokenCount] = \{}
\DoxyCodeLine{1847             \textcolor{comment}{// Finish(sink state)}}
\DoxyCodeLine{1848             \{}
\DoxyCodeLine{1849                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1850                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1851                 IterativeParsingErrorState}
\DoxyCodeLine{1852             \},}
\DoxyCodeLine{1853             \textcolor{comment}{// Error(sink state)}}
\DoxyCodeLine{1854             \{}
\DoxyCodeLine{1855                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1856                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1857                 IterativeParsingErrorState}
\DoxyCodeLine{1858             \},}
\DoxyCodeLine{1859             \textcolor{comment}{// Start}}
\DoxyCodeLine{1860             \{}
\DoxyCodeLine{1861                 IterativeParsingArrayInitialState,  \textcolor{comment}{// Left bracket}}
\DoxyCodeLine{1862                 IterativeParsingErrorState,         \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1863                 IterativeParsingObjectInitialState, \textcolor{comment}{// Left curly bracket}}
\DoxyCodeLine{1864                 IterativeParsingErrorState,         \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1865                 IterativeParsingErrorState,         \textcolor{comment}{// Comma}}
\DoxyCodeLine{1866                 IterativeParsingErrorState,         \textcolor{comment}{// Colon}}
\DoxyCodeLine{1867                 IterativeParsingValueState,         \textcolor{comment}{// String}}
\DoxyCodeLine{1868                 IterativeParsingValueState,         \textcolor{comment}{// False}}
\DoxyCodeLine{1869                 IterativeParsingValueState,         \textcolor{comment}{// True}}
\DoxyCodeLine{1870                 IterativeParsingValueState,         \textcolor{comment}{// Null}}
\DoxyCodeLine{1871                 IterativeParsingValueState          \textcolor{comment}{// Number}}
\DoxyCodeLine{1872             \},}
\DoxyCodeLine{1873             \textcolor{comment}{// ObjectInitial}}
\DoxyCodeLine{1874             \{}
\DoxyCodeLine{1875                 IterativeParsingErrorState,         \textcolor{comment}{// Left bracket}}
\DoxyCodeLine{1876                 IterativeParsingErrorState,         \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1877                 IterativeParsingErrorState,         \textcolor{comment}{// Left curly bracket}}
\DoxyCodeLine{1878                 IterativeParsingObjectFinishState,  \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1879                 IterativeParsingErrorState,         \textcolor{comment}{// Comma}}
\DoxyCodeLine{1880                 IterativeParsingErrorState,         \textcolor{comment}{// Colon}}
\DoxyCodeLine{1881                 IterativeParsingMemberKeyState,     \textcolor{comment}{// String}}
\DoxyCodeLine{1882                 IterativeParsingErrorState,         \textcolor{comment}{// False}}
\DoxyCodeLine{1883                 IterativeParsingErrorState,         \textcolor{comment}{// True}}
\DoxyCodeLine{1884                 IterativeParsingErrorState,         \textcolor{comment}{// Null}}
\DoxyCodeLine{1885                 IterativeParsingErrorState          \textcolor{comment}{// Number}}
\DoxyCodeLine{1886             \},}
\DoxyCodeLine{1887             \textcolor{comment}{// MemberKey}}
\DoxyCodeLine{1888             \{}
\DoxyCodeLine{1889                 IterativeParsingErrorState,             \textcolor{comment}{// Left bracket}}
\DoxyCodeLine{1890                 IterativeParsingErrorState,             \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1891                 IterativeParsingErrorState,             \textcolor{comment}{// Left curly bracket}}
\DoxyCodeLine{1892                 IterativeParsingErrorState,             \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1893                 IterativeParsingErrorState,             \textcolor{comment}{// Comma}}
\DoxyCodeLine{1894                 IterativeParsingKeyValueDelimiterState, \textcolor{comment}{// Colon}}
\DoxyCodeLine{1895                 IterativeParsingErrorState,             \textcolor{comment}{// String}}
\DoxyCodeLine{1896                 IterativeParsingErrorState,             \textcolor{comment}{// False}}
\DoxyCodeLine{1897                 IterativeParsingErrorState,             \textcolor{comment}{// True}}
\DoxyCodeLine{1898                 IterativeParsingErrorState,             \textcolor{comment}{// Null}}
\DoxyCodeLine{1899                 IterativeParsingErrorState              \textcolor{comment}{// Number}}
\DoxyCodeLine{1900             \},}
\DoxyCodeLine{1901             \textcolor{comment}{// MemberValue}}
\DoxyCodeLine{1902             \{}
\DoxyCodeLine{1903                 IterativeParsingErrorState,             \textcolor{comment}{// Left bracket}}
\DoxyCodeLine{1904                 IterativeParsingErrorState,             \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1905                 IterativeParsingErrorState,             \textcolor{comment}{// Left curly bracket}}
\DoxyCodeLine{1906                 IterativeParsingObjectFinishState,      \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1907                 IterativeParsingMemberDelimiterState,   \textcolor{comment}{// Comma}}
\DoxyCodeLine{1908                 IterativeParsingErrorState,             \textcolor{comment}{// Colon}}
\DoxyCodeLine{1909                 IterativeParsingErrorState,             \textcolor{comment}{// String}}
\DoxyCodeLine{1910                 IterativeParsingErrorState,             \textcolor{comment}{// False}}
\DoxyCodeLine{1911                 IterativeParsingErrorState,             \textcolor{comment}{// True}}
\DoxyCodeLine{1912                 IterativeParsingErrorState,             \textcolor{comment}{// Null}}
\DoxyCodeLine{1913                 IterativeParsingErrorState              \textcolor{comment}{// Number}}
\DoxyCodeLine{1914             \},}
\DoxyCodeLine{1915             \textcolor{comment}{// ObjectFinish(sink state)}}
\DoxyCodeLine{1916             \{}
\DoxyCodeLine{1917                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1918                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1919                 IterativeParsingErrorState}
\DoxyCodeLine{1920             \},}
\DoxyCodeLine{1921             \textcolor{comment}{// ArrayInitial}}
\DoxyCodeLine{1922             \{}
\DoxyCodeLine{1923                 IterativeParsingArrayInitialState,      \textcolor{comment}{// Left bracket(push Element state)}}
\DoxyCodeLine{1924                 IterativeParsingArrayFinishState,       \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1925                 IterativeParsingObjectInitialState,     \textcolor{comment}{// Left curly bracket(push Element state)}}
\DoxyCodeLine{1926                 IterativeParsingErrorState,             \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1927                 IterativeParsingErrorState,             \textcolor{comment}{// Comma}}
\DoxyCodeLine{1928                 IterativeParsingErrorState,             \textcolor{comment}{// Colon}}
\DoxyCodeLine{1929                 IterativeParsingElementState,           \textcolor{comment}{// String}}
\DoxyCodeLine{1930                 IterativeParsingElementState,           \textcolor{comment}{// False}}
\DoxyCodeLine{1931                 IterativeParsingElementState,           \textcolor{comment}{// True}}
\DoxyCodeLine{1932                 IterativeParsingElementState,           \textcolor{comment}{// Null}}
\DoxyCodeLine{1933                 IterativeParsingElementState            \textcolor{comment}{// Number}}
\DoxyCodeLine{1934             \},}
\DoxyCodeLine{1935             \textcolor{comment}{// Element}}
\DoxyCodeLine{1936             \{}
\DoxyCodeLine{1937                 IterativeParsingErrorState,             \textcolor{comment}{// Left bracket}}
\DoxyCodeLine{1938                 IterativeParsingArrayFinishState,       \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1939                 IterativeParsingErrorState,             \textcolor{comment}{// Left curly bracket}}
\DoxyCodeLine{1940                 IterativeParsingErrorState,             \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1941                 IterativeParsingElementDelimiterState,  \textcolor{comment}{// Comma}}
\DoxyCodeLine{1942                 IterativeParsingErrorState,             \textcolor{comment}{// Colon}}
\DoxyCodeLine{1943                 IterativeParsingErrorState,             \textcolor{comment}{// String}}
\DoxyCodeLine{1944                 IterativeParsingErrorState,             \textcolor{comment}{// False}}
\DoxyCodeLine{1945                 IterativeParsingErrorState,             \textcolor{comment}{// True}}
\DoxyCodeLine{1946                 IterativeParsingErrorState,             \textcolor{comment}{// Null}}
\DoxyCodeLine{1947                 IterativeParsingErrorState              \textcolor{comment}{// Number}}
\DoxyCodeLine{1948             \},}
\DoxyCodeLine{1949             \textcolor{comment}{// ArrayFinish(sink state)}}
\DoxyCodeLine{1950             \{}
\DoxyCodeLine{1951                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1952                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1953                 IterativeParsingErrorState}
\DoxyCodeLine{1954             \},}
\DoxyCodeLine{1955             \textcolor{comment}{// Single Value (sink state)}}
\DoxyCodeLine{1956             \{}
\DoxyCodeLine{1957                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1958                 IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState, IterativeParsingErrorState,}
\DoxyCodeLine{1959                 IterativeParsingErrorState}
\DoxyCodeLine{1960             \},}
\DoxyCodeLine{1961             \textcolor{comment}{// ElementDelimiter}}
\DoxyCodeLine{1962             \{}
\DoxyCodeLine{1963                 IterativeParsingArrayInitialState,      \textcolor{comment}{// Left bracket(push Element state)}}
\DoxyCodeLine{1964                 IterativeParsingArrayFinishState,       \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1965                 IterativeParsingObjectInitialState,     \textcolor{comment}{// Left curly bracket(push Element state)}}
\DoxyCodeLine{1966                 IterativeParsingErrorState,             \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1967                 IterativeParsingErrorState,             \textcolor{comment}{// Comma}}
\DoxyCodeLine{1968                 IterativeParsingErrorState,             \textcolor{comment}{// Colon}}
\DoxyCodeLine{1969                 IterativeParsingElementState,           \textcolor{comment}{// String}}
\DoxyCodeLine{1970                 IterativeParsingElementState,           \textcolor{comment}{// False}}
\DoxyCodeLine{1971                 IterativeParsingElementState,           \textcolor{comment}{// True}}
\DoxyCodeLine{1972                 IterativeParsingElementState,           \textcolor{comment}{// Null}}
\DoxyCodeLine{1973                 IterativeParsingElementState            \textcolor{comment}{// Number}}
\DoxyCodeLine{1974             \},}
\DoxyCodeLine{1975             \textcolor{comment}{// MemberDelimiter}}
\DoxyCodeLine{1976             \{}
\DoxyCodeLine{1977                 IterativeParsingErrorState,         \textcolor{comment}{// Left bracket}}
\DoxyCodeLine{1978                 IterativeParsingErrorState,         \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1979                 IterativeParsingErrorState,         \textcolor{comment}{// Left curly bracket}}
\DoxyCodeLine{1980                 IterativeParsingObjectFinishState,  \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1981                 IterativeParsingErrorState,         \textcolor{comment}{// Comma}}
\DoxyCodeLine{1982                 IterativeParsingErrorState,         \textcolor{comment}{// Colon}}
\DoxyCodeLine{1983                 IterativeParsingMemberKeyState,     \textcolor{comment}{// String}}
\DoxyCodeLine{1984                 IterativeParsingErrorState,         \textcolor{comment}{// False}}
\DoxyCodeLine{1985                 IterativeParsingErrorState,         \textcolor{comment}{// True}}
\DoxyCodeLine{1986                 IterativeParsingErrorState,         \textcolor{comment}{// Null}}
\DoxyCodeLine{1987                 IterativeParsingErrorState          \textcolor{comment}{// Number}}
\DoxyCodeLine{1988             \},}
\DoxyCodeLine{1989             \textcolor{comment}{// KeyValueDelimiter}}
\DoxyCodeLine{1990             \{}
\DoxyCodeLine{1991                 IterativeParsingArrayInitialState,      \textcolor{comment}{// Left bracket(push MemberValue state)}}
\DoxyCodeLine{1992                 IterativeParsingErrorState,             \textcolor{comment}{// Right bracket}}
\DoxyCodeLine{1993                 IterativeParsingObjectInitialState,     \textcolor{comment}{// Left curly bracket(push MemberValue state)}}
\DoxyCodeLine{1994                 IterativeParsingErrorState,             \textcolor{comment}{// Right curly bracket}}
\DoxyCodeLine{1995                 IterativeParsingErrorState,             \textcolor{comment}{// Comma}}
\DoxyCodeLine{1996                 IterativeParsingErrorState,             \textcolor{comment}{// Colon}}
\DoxyCodeLine{1997                 IterativeParsingMemberValueState,       \textcolor{comment}{// String}}
\DoxyCodeLine{1998                 IterativeParsingMemberValueState,       \textcolor{comment}{// False}}
\DoxyCodeLine{1999                 IterativeParsingMemberValueState,       \textcolor{comment}{// True}}
\DoxyCodeLine{2000                 IterativeParsingMemberValueState,       \textcolor{comment}{// Null}}
\DoxyCodeLine{2001                 IterativeParsingMemberValueState        \textcolor{comment}{// Number}}
\DoxyCodeLine{2002             \},}
\DoxyCodeLine{2003         \}; \textcolor{comment}{// End of G}}
\DoxyCodeLine{2004 }
\DoxyCodeLine{2005         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}IterativeParsingState\textcolor{keyword}{>}(G[state][token]);}
\DoxyCodeLine{2006     \}}
\DoxyCodeLine{2007 }
\DoxyCodeLine{2008     \textcolor{comment}{// Make an advance in the token stream and state based on the candidate destination state which was returned by Transit().}}
\DoxyCodeLine{2009     \textcolor{comment}{// May return a new state on state pop.}}
\DoxyCodeLine{2010     \textcolor{keyword}{template} <\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{2011     RAPIDJSON\_FORCEINLINE IterativeParsingState Transit(IterativeParsingState src, Token token, IterativeParsingState dst, InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{2012         (void)token;}
\DoxyCodeLine{2013 }
\DoxyCodeLine{2014         \textcolor{keywordflow}{switch} (dst) \{}
\DoxyCodeLine{2015         \textcolor{keywordflow}{case} IterativeParsingErrorState:}
\DoxyCodeLine{2016             \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2017 }
\DoxyCodeLine{2018         \textcolor{keywordflow}{case} IterativeParsingObjectInitialState:}
\DoxyCodeLine{2019         \textcolor{keywordflow}{case} IterativeParsingArrayInitialState:}
\DoxyCodeLine{2020         \{}
\DoxyCodeLine{2021             \textcolor{comment}{// Push the state(Element or MemeberValue) if we are nested in another array or value of member.}}
\DoxyCodeLine{2022             \textcolor{comment}{// In this way we can get the correct state on ObjectFinish or ArrayFinish by frame pop.}}
\DoxyCodeLine{2023             IterativeParsingState n = src;}
\DoxyCodeLine{2024             \textcolor{keywordflow}{if} (src == IterativeParsingArrayInitialState || src == IterativeParsingElementDelimiterState)}
\DoxyCodeLine{2025                 n = IterativeParsingElementState;}
\DoxyCodeLine{2026             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (src == IterativeParsingKeyValueDelimiterState)}
\DoxyCodeLine{2027                 n = IterativeParsingMemberValueState;}
\DoxyCodeLine{2028             \textcolor{comment}{// Push current state.}}
\DoxyCodeLine{2029             *stack\_.template Push<SizeType>(1) = n;}
\DoxyCodeLine{2030             \textcolor{comment}{// Initialize and push the member/element count.}}
\DoxyCodeLine{2031             *stack\_.template Push<SizeType>(1) = 0;}
\DoxyCodeLine{2032             \textcolor{comment}{// Call handler}}
\DoxyCodeLine{2033             \textcolor{keywordtype}{bool} hr = (dst == IterativeParsingObjectInitialState) ? handler.StartObject() : handler.StartArray();}
\DoxyCodeLine{2034             \textcolor{comment}{// On handler short circuits the parsing.}}
\DoxyCodeLine{2035             \textcolor{keywordflow}{if} (!hr) \{}
\DoxyCodeLine{2036                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{2037                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2038             \}}
\DoxyCodeLine{2039             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2040                 is.Take();}
\DoxyCodeLine{2041                 \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2042             \}}
\DoxyCodeLine{2043         \}}
\DoxyCodeLine{2044 }
\DoxyCodeLine{2045         \textcolor{keywordflow}{case} IterativeParsingMemberKeyState:}
\DoxyCodeLine{2046             ParseString<parseFlags>(is, handler, \textcolor{keyword}{true});}
\DoxyCodeLine{2047             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_generic_reader_ac417441794477ea747b63adb6d3653a9}{HasParseError}}())}
\DoxyCodeLine{2048                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2049             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2050                 \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2051 }
\DoxyCodeLine{2052         \textcolor{keywordflow}{case} IterativeParsingKeyValueDelimiterState:}
\DoxyCodeLine{2053             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(token == ColonToken);}
\DoxyCodeLine{2054             is.Take();}
\DoxyCodeLine{2055             \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2056 }
\DoxyCodeLine{2057         \textcolor{keywordflow}{case} IterativeParsingMemberValueState:}
\DoxyCodeLine{2058             \textcolor{comment}{// Must be non-\/compound value. Or it would be ObjectInitial or ArrayInitial state.}}
\DoxyCodeLine{2059             ParseValue<parseFlags>(is, handler);}
\DoxyCodeLine{2060             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_generic_reader_ac417441794477ea747b63adb6d3653a9}{HasParseError}}()) \{}
\DoxyCodeLine{2061                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2062             \}}
\DoxyCodeLine{2063             \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2064 }
\DoxyCodeLine{2065         \textcolor{keywordflow}{case} IterativeParsingElementState:}
\DoxyCodeLine{2066             \textcolor{comment}{// Must be non-\/compound value. Or it would be ObjectInitial or ArrayInitial state.}}
\DoxyCodeLine{2067             ParseValue<parseFlags>(is, handler);}
\DoxyCodeLine{2068             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_generic_reader_ac417441794477ea747b63adb6d3653a9}{HasParseError}}()) \{}
\DoxyCodeLine{2069                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2070             \}}
\DoxyCodeLine{2071             \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2072 }
\DoxyCodeLine{2073         \textcolor{keywordflow}{case} IterativeParsingMemberDelimiterState:}
\DoxyCodeLine{2074         \textcolor{keywordflow}{case} IterativeParsingElementDelimiterState:}
\DoxyCodeLine{2075             is.Take();}
\DoxyCodeLine{2076             \textcolor{comment}{// Update member/element count.}}
\DoxyCodeLine{2077             *stack\_.template Top<SizeType>() = *stack\_.template Top<SizeType>() + 1;}
\DoxyCodeLine{2078             \textcolor{keywordflow}{return} dst;}
\DoxyCodeLine{2079 }
\DoxyCodeLine{2080         \textcolor{keywordflow}{case} IterativeParsingObjectFinishState:}
\DoxyCodeLine{2081         \{}
\DoxyCodeLine{2082             \textcolor{comment}{// Transit from delimiter is only allowed when trailing commas are enabled}}
\DoxyCodeLine{2083             \textcolor{keywordflow}{if} (!(parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a953d6381de950e25c8c97ad54f52370a}{kParseTrailingCommasFlag}}) \&\& src == IterativeParsingMemberDelimiterState) \{}
\DoxyCodeLine{2084                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ae3142fbadf2c4cdfd0c7200d7b6b8ed3}{kParseErrorObjectMissName}}, is.Tell());}
\DoxyCodeLine{2085                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2086             \}}
\DoxyCodeLine{2087             \textcolor{comment}{// Get member count.}}
\DoxyCodeLine{2088             \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} c = *stack\_.template Pop<SizeType>(1);}
\DoxyCodeLine{2089             \textcolor{comment}{// If the object is not empty, count the last member.}}
\DoxyCodeLine{2090             \textcolor{keywordflow}{if} (src == IterativeParsingMemberValueState)}
\DoxyCodeLine{2091                 ++c;}
\DoxyCodeLine{2092             \textcolor{comment}{// Restore the state.}}
\DoxyCodeLine{2093             IterativeParsingState n = \textcolor{keyword}{static\_cast<}IterativeParsingState\textcolor{keyword}{>}(*stack\_.template Pop<SizeType>(1));}
\DoxyCodeLine{2094             \textcolor{comment}{// Transit to Finish state if this is the topmost scope.}}
\DoxyCodeLine{2095             \textcolor{keywordflow}{if} (n == IterativeParsingStartState)}
\DoxyCodeLine{2096                 n = IterativeParsingFinishState;}
\DoxyCodeLine{2097             \textcolor{comment}{// Call handler}}
\DoxyCodeLine{2098             \textcolor{keywordtype}{bool} hr = handler.EndObject(c);}
\DoxyCodeLine{2099             \textcolor{comment}{// On handler short circuits the parsing.}}
\DoxyCodeLine{2100             \textcolor{keywordflow}{if} (!hr) \{}
\DoxyCodeLine{2101                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{2102                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2103             \}}
\DoxyCodeLine{2104             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2105                 is.Take();}
\DoxyCodeLine{2106                 \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{2107             \}}
\DoxyCodeLine{2108         \}}
\DoxyCodeLine{2109 }
\DoxyCodeLine{2110         \textcolor{keywordflow}{case} IterativeParsingArrayFinishState:}
\DoxyCodeLine{2111         \{}
\DoxyCodeLine{2112             \textcolor{comment}{// Transit from delimiter is only allowed when trailing commas are enabled}}
\DoxyCodeLine{2113             \textcolor{keywordflow}{if} (!(parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450a953d6381de950e25c8c97ad54f52370a}{kParseTrailingCommasFlag}}) \&\& src == IterativeParsingElementDelimiterState) \{}
\DoxyCodeLine{2114                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, is.Tell());}
\DoxyCodeLine{2115                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2116             \}}
\DoxyCodeLine{2117             \textcolor{comment}{// Get element count.}}
\DoxyCodeLine{2118             \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}} c = *stack\_.template Pop<SizeType>(1);}
\DoxyCodeLine{2119             \textcolor{comment}{// If the array is not empty, count the last element.}}
\DoxyCodeLine{2120             \textcolor{keywordflow}{if} (src == IterativeParsingElementState)}
\DoxyCodeLine{2121                 ++c;}
\DoxyCodeLine{2122             \textcolor{comment}{// Restore the state.}}
\DoxyCodeLine{2123             IterativeParsingState n = \textcolor{keyword}{static\_cast<}IterativeParsingState\textcolor{keyword}{>}(*stack\_.template Pop<SizeType>(1));}
\DoxyCodeLine{2124             \textcolor{comment}{// Transit to Finish state if this is the topmost scope.}}
\DoxyCodeLine{2125             \textcolor{keywordflow}{if} (n == IterativeParsingStartState)}
\DoxyCodeLine{2126                 n = IterativeParsingFinishState;}
\DoxyCodeLine{2127             \textcolor{comment}{// Call handler}}
\DoxyCodeLine{2128             \textcolor{keywordtype}{bool} hr = handler.EndArray(c);}
\DoxyCodeLine{2129             \textcolor{comment}{// On handler short circuits the parsing.}}
\DoxyCodeLine{2130             \textcolor{keywordflow}{if} (!hr) \{}
\DoxyCodeLine{2131                 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga7f8c4265b2edda78568ae3338aaf1461}{RAPIDJSON\_PARSE\_ERROR\_NORETURN}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6}{kParseErrorTermination}}, is.Tell());}
\DoxyCodeLine{2132                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2133             \}}
\DoxyCodeLine{2134             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2135                 is.Take();}
\DoxyCodeLine{2136                 \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{2137             \}}
\DoxyCodeLine{2138         \}}
\DoxyCodeLine{2139 }
\DoxyCodeLine{2140         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{2141             \textcolor{comment}{// This branch is for IterativeParsingValueState actually.}}
\DoxyCodeLine{2142             \textcolor{comment}{// Use `default:` rather than}}
\DoxyCodeLine{2143             \textcolor{comment}{// `case IterativeParsingValueState:` is for code coverage.}}
\DoxyCodeLine{2144 }
\DoxyCodeLine{2145             \textcolor{comment}{// The IterativeParsingStartState is not enumerated in this switch-\/case.}}
\DoxyCodeLine{2146             \textcolor{comment}{// It is impossible for that case. And it can be caught by following assertion.}}
\DoxyCodeLine{2147 }
\DoxyCodeLine{2148             \textcolor{comment}{// The IterativeParsingFinishState is not enumerated in this switch-\/case either.}}
\DoxyCodeLine{2149             \textcolor{comment}{// It is a "{}derivative"{} state which cannot triggered from Predict() directly.}}
\DoxyCodeLine{2150             \textcolor{comment}{// Therefore it cannot happen here. And it can be caught by following assertion.}}
\DoxyCodeLine{2151             \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(dst == IterativeParsingValueState);}
\DoxyCodeLine{2152 }
\DoxyCodeLine{2153             \textcolor{comment}{// Must be non-\/compound value. Or it would be ObjectInitial or ArrayInitial state.}}
\DoxyCodeLine{2154             ParseValue<parseFlags>(is, handler);}
\DoxyCodeLine{2155             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_generic_reader_ac417441794477ea747b63adb6d3653a9}{HasParseError}}()) \{}
\DoxyCodeLine{2156                 \textcolor{keywordflow}{return} IterativeParsingErrorState;}
\DoxyCodeLine{2157             \}}
\DoxyCodeLine{2158             \textcolor{keywordflow}{return} IterativeParsingFinishState;}
\DoxyCodeLine{2159         \}}
\DoxyCodeLine{2160     \}}
\DoxyCodeLine{2161 }
\DoxyCodeLine{2162     \textcolor{keyword}{template} <\textcolor{keyword}{typename} InputStream>}
\DoxyCodeLine{2163     \textcolor{keywordtype}{void} HandleError(IterativeParsingState src, InputStream\& is) \{}
\DoxyCodeLine{2164         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_generic_reader_ac417441794477ea747b63adb6d3653a9}{HasParseError}}()) \{}
\DoxyCodeLine{2165             \textcolor{comment}{// Error flag has been set.}}
\DoxyCodeLine{2166             \textcolor{keywordflow}{return};}
\DoxyCodeLine{2167         \}}
\DoxyCodeLine{2168 }
\DoxyCodeLine{2169         \textcolor{keywordflow}{switch} (src) \{}
\DoxyCodeLine{2170         \textcolor{keywordflow}{case} IterativeParsingStartState:            \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a04b368d184e84b50580be2faa55f738a}{kParseErrorDocumentEmpty}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2171         \textcolor{keywordflow}{case} IterativeParsingFinishState:           \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a2293b39033220f4c2a568482c497dab5}{kParseErrorDocumentRootNotSingular}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2172         \textcolor{keywordflow}{case} IterativeParsingObjectInitialState:}
\DoxyCodeLine{2173         \textcolor{keywordflow}{case} IterativeParsingMemberDelimiterState:  \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7ae3142fbadf2c4cdfd0c7200d7b6b8ed3}{kParseErrorObjectMissName}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2174         \textcolor{keywordflow}{case} IterativeParsingMemberKeyState:        \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a55cda7eb30436986ab42a61e06caf017}{kParseErrorObjectMissColon}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2175         \textcolor{keywordflow}{case} IterativeParsingMemberValueState:      \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a34f70d7ed2fa121954f5fc5b5113d05f}{kParseErrorObjectMissCommaOrCurlyBracket}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2176         \textcolor{keywordflow}{case} IterativeParsingKeyValueDelimiterState:}
\DoxyCodeLine{2177         \textcolor{keywordflow}{case} IterativeParsingArrayInitialState:}
\DoxyCodeLine{2178         \textcolor{keywordflow}{case} IterativeParsingElementDelimiterState: \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7a20a50e257aab726699ab02192db72ba9}{kParseErrorValueInvalid}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2179         \textcolor{keywordflow}{default}: \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gabeba18d612187bad2ac62aed9276d47c}{RAPIDJSON\_ASSERT}}(src == IterativeParsingElementState); \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gae3689840fa6e89a241313f33b602f865}{RAPIDJSON\_PARSE\_ERROR}}(\mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_gga8d4b32dfc45840bca189ade2bbcb6ba7abfdd2bd90134fec4fe6a22762d16a5f5}{kParseErrorArrayMissCommaOrSquareBracket}}, is.Tell()); \textcolor{keywordflow}{return};}
\DoxyCodeLine{2180         \}}
\DoxyCodeLine{2181     \}}
\DoxyCodeLine{2182 }
\DoxyCodeLine{2183     RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{bool} IsIterativeParsingDelimiterState(IterativeParsingState s)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2184         \textcolor{keywordflow}{return} s >= IterativeParsingElementDelimiterState;}
\DoxyCodeLine{2185     \}}
\DoxyCodeLine{2186 }
\DoxyCodeLine{2187     RAPIDJSON\_FORCEINLINE \textcolor{keywordtype}{bool} IsIterativeParsingCompleteState(IterativeParsingState s)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2188         \textcolor{keywordflow}{return} s <= IterativeParsingErrorState;}
\DoxyCodeLine{2189     \}}
\DoxyCodeLine{2190 }
\DoxyCodeLine{2191     \textcolor{keyword}{template} <\textcolor{keywordtype}{unsigned} parseFlags, \textcolor{keyword}{typename} InputStream, \textcolor{keyword}{typename} Handler>}
\DoxyCodeLine{2192     \mbox{\hyperlink{struct_parse_result}{ParseResult}} IterativeParse(InputStream\& is, \mbox{\hyperlink{classrapidjson_1_1_handler}{Handler}}\& handler) \{}
\DoxyCodeLine{2193         parseResult\_.\mbox{\hyperlink{struct_parse_result_a88b6d44f052a19e6436ae6aadc2c40b4}{Clear}}();}
\DoxyCodeLine{2194         ClearStackOnExit scope(*\textcolor{keyword}{this});}
\DoxyCodeLine{2195         IterativeParsingState state = IterativeParsingStartState;}
\DoxyCodeLine{2196 }
\DoxyCodeLine{2197         SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{2198         RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{2199         \textcolor{keywordflow}{while} (is.Peek() != \textcolor{charliteral}{'\(\backslash\)0'}) \{}
\DoxyCodeLine{2200             Token t = Tokenize(is.Peek());}
\DoxyCodeLine{2201             IterativeParsingState n = Predict(state, t);}
\DoxyCodeLine{2202             IterativeParsingState d = Transit<parseFlags>(state, t, n, is, handler);}
\DoxyCodeLine{2203 }
\DoxyCodeLine{2204             \textcolor{keywordflow}{if} (d == IterativeParsingErrorState) \{}
\DoxyCodeLine{2205                 HandleError(state, is);}
\DoxyCodeLine{2206                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{2207             \}}
\DoxyCodeLine{2208 }
\DoxyCodeLine{2209             state = d;}
\DoxyCodeLine{2210 }
\DoxyCodeLine{2211             \textcolor{comment}{// Do not further consume streams if a root JSON has been parsed.}}
\DoxyCodeLine{2212             \textcolor{keywordflow}{if} ((parseFlags \& \mbox{\hyperlink{reader_8h_ab7be7dabe6ffcba60fad441505583450af77d115d3bbed0a448b6b335f3b93b36}{kParseStopWhenDoneFlag}}) \&\& state == IterativeParsingFinishState)}
\DoxyCodeLine{2213                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{2214 }
\DoxyCodeLine{2215             SkipWhitespaceAndComments<parseFlags>(is);}
\DoxyCodeLine{2216             RAPIDJSON\_PARSE\_ERROR\_EARLY\_RETURN(parseResult\_);}
\DoxyCodeLine{2217         \}}
\DoxyCodeLine{2218 }
\DoxyCodeLine{2219         \textcolor{comment}{// Handle the end of file.}}
\DoxyCodeLine{2220         \textcolor{keywordflow}{if} (state != IterativeParsingFinishState)}
\DoxyCodeLine{2221             HandleError(state, is);}
\DoxyCodeLine{2222 }
\DoxyCodeLine{2223         \textcolor{keywordflow}{return} parseResult\_;}
\DoxyCodeLine{2224     \}}
\DoxyCodeLine{2225 }
\DoxyCodeLine{2226     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} kDefaultStackCapacity = 256;    }
\DoxyCodeLine{2227     \mbox{\hyperlink{classinternal_1_1_stack}{internal::Stack<StackAllocator>}} stack\_;  }
\DoxyCodeLine{2228     \mbox{\hyperlink{struct_parse_result}{ParseResult}} parseResult\_;}
\DoxyCodeLine{2229     IterativeParsingState state\_;}
\DoxyCodeLine{2230 \}; \textcolor{comment}{// class GenericReader}}
\DoxyCodeLine{2231 }
\DoxyCodeLine{2233 \textcolor{keyword}{typedef} \mbox{\hyperlink{class_generic_reader}{GenericReader<UTF8<>}}, \mbox{\hyperlink{struct_u_t_f8}{UTF8<>}} > \mbox{\hyperlink{reader_8h_a84f3b66a66647f4ac4267078359188ba}{Reader}};}
\DoxyCodeLine{2234 }
\DoxyCodeLine{2235 \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___c_o_n_f_i_g_gaf18f052a98b9f5df5448d39484b743c1}{RAPIDJSON\_NAMESPACE\_END}}}
\DoxyCodeLine{2236 }
\DoxyCodeLine{2237 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_) || defined(\_MSC\_VER)}}
\DoxyCodeLine{2238 RAPIDJSON\_DIAG\_POP}
\DoxyCodeLine{2239 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2240 }
\DoxyCodeLine{2241 }
\DoxyCodeLine{2242 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_}}
\DoxyCodeLine{2243 RAPIDJSON\_DIAG\_POP}
\DoxyCodeLine{2244 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2245 }
\DoxyCodeLine{2246 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// RAPIDJSON\_READER\_H\_}}

\end{DoxyCode}
